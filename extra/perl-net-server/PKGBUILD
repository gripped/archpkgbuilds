# Maintainer: George Rawlinson <grawlinson@archlinux.org>
# Contributor: Justin Davis (juster) <jrcd83@gmail.com>

pkgname=perl-net-server
pkgver=2.016
pkgrel=1
pkgdesc='Extensible, general Perl server engine'
arch=(any)
url='https://metacpan.org/release/Net-Server'
license=('Artistic-1.0-Perl OR GPL-1.0-or-later')
depends=(perl)
options=(!emptydirs)
source=("$pkgname-$pkgver.tar.gz::https://cpan.metacpan.org/authors/id/B/BB/BBB/Net-Server-$pkgver.tar.gz")
sha512sums=('48fe4a1ba0138052bb11bae626f054e1bfa9801af51401d029d85183fc8a8409bd1fa15a4b50135ed21df20a0c6ff7da0f4f40295b9312cba518ad5baa6e0f3e')
b2sums=('e967fb8d5ba0652fe882e02c4dec4903b85c3de647f65616f86bdb25fffd2956471cab34f046408544d6ddb08d98eb0329c083bf1d2ebed5008e65db85817ce2')

build() {
  cd Net-Server-$pkgver
  perl Makefile.PL INSTALLDIRS=vendor
  make
}

check() {
  cd Net-Server-$pkgver
  make test
}

package() {
  cd Net-Server-$pkgver
  make install DESTDIR="$pkgdir"
}

# Maintainer: Caleb Maclennan <caleb@alerque.com>
# Contributor: Kent Hou Man <knthmn0 at gmail dot com>

_name=monaspace
pkgbase=$_name-font
pkgname=(otf-$_name otf-$_name-nerdfonts ttf-$_name-frozen ttf-$_name-variable)
pkgver=1.301
pkgrel=1
pkgdesc='An innovative superfamily of fonts for code, by GitHub'
arch=(any)
url="https://github.com/githubnext/$_name"
license=(OFL-1.0-RFN)
_archive="$_name-FLAVOR-v$pkgver"
source=("$url/releases/download/v$pkgver/${_archive/FLAVOR/frozen}.zip"
        "$url/releases/download/v$pkgver/${_archive/FLAVOR/nerdfonts}.zip"
        "$url/releases/download/v$pkgver/${_archive/FLAVOR/static}.zip"
        "$url/releases/download/v$pkgver/${_archive/FLAVOR/variable}.zip"
        "$_name-$pkgver-LICENSE::$url/raw/refs/tags/v$pkgver/LICENSE")
sha256sums=('e82c1a0dc52f88f935b3b46ce4b4e50f811517186c86e183e05b1f1d396797d7'
            '051e9c3665b395a9939545396fba80048eda3ab8a97f3a911fbbf42bd3217d60'
            'e201697c8ef3cfd4559fbfb4b5f60bf7425113729bca28e33b0a9112db1ca579'
            '255d7101e6fefc9d4bb7df844c79b7f4e11c61e62387a13c4bd0a5970c3f6674'
            '0e84e5f7dd6f05e74a00f2fb828ca43e489d954f5509ff0fa439ea18c0d35fe9')

package_otf-monaspace() {
	provides=("$pkgbase")
	install -Dm0644 "$_name-$pkgver-LICENSE" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
	cd "Static Fonts"
	install -Dm0644 -t "$pkgdir/usr/share/fonts/OTF/" */*.otf
}

package_otf-monaspace-nerdfonts() {
	provides=("$pkgbase" ttf-font-nerd)
	install -Dm0644 "$_name-$pkgver-LICENSE" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
	cd "NerdFonts"
	install -Dm0644 -t "$pkgdir/usr/share/fonts/OTF/" */*.otf
}

package_ttf-monaspace-frozen() {
	provides=("$pkgbase")
	install -Dm0644 "$_name-$pkgver-LICENSE" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
	cd "Frozen Fonts"
	install -Dm0644 -t "$pkgdir/usr/share/fonts/TTF/" */*.ttf
}

package_ttf-monaspace-variable() {
	provides=("$pkgbase-variable")
	install -Dm0644 "$_name-$pkgver-LICENSE" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
	cd "Variable Fonts"
	install -Dm0644 -t "$pkgdir/usr/share/fonts/TTF/" */*.ttf
}

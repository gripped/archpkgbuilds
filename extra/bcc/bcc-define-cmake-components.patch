From 1969e412cfcf9c165d5e23d0fe1a150ad2bb4048 Mon Sep 17 00:00:00 2001
From: Carl Smedstad <carsme@archlinux.org>
Date: Sun, 12 Oct 2025 21:24:27 +0200
Subject: [PATCH 1/2] Define CMake component

---
 examples/CMakeLists.txt      | 2 ++
 introspection/CMakeLists.txt | 2 ++
 man/man8/CMakeLists.txt      | 2 ++
 src/cc/CMakeLists.txt        | 2 ++
 tools/CMakeLists.txt         | 2 ++
 5 files changed, 10 insertions(+)

diff --git a/examples/CMakeLists.txt b/examples/CMakeLists.txt
index c63553d0..756904c1 100644
--- a/examples/CMakeLists.txt
+++ b/examples/CMakeLists.txt
@@ -1,3 +1,5 @@
+set(CMAKE_INSTALL_DEFAULT_COMPONENT_NAME examples)
+
 set(EXAMPLE_PROGRAMS hello_world.py)
 install(PROGRAMS ${EXAMPLE_PROGRAMS} DESTINATION share/bcc/examples)
 
diff --git a/introspection/CMakeLists.txt b/introspection/CMakeLists.txt
index ce2d03dc..d27c7867 100644
--- a/introspection/CMakeLists.txt
+++ b/introspection/CMakeLists.txt
@@ -1,6 +1,8 @@
 # Copyright (c) Facebook, Inc.
 # Licensed under the Apache License, Version 2.0 (the "License")
 
+set(CMAKE_INSTALL_DEFAULT_COMPONENT_NAME introspection)
+
 include_directories(${PROJECT_SOURCE_DIR}/src/cc)
 include_directories(${PROJECT_SOURCE_DIR}/src/cc/api)
 if (CMAKE_USE_LIBBPF_PACKAGE AND LIBBPF_FOUND)
diff --git a/man/man8/CMakeLists.txt b/man/man8/CMakeLists.txt
index 718c7006..cb7ed97f 100644
--- a/man/man8/CMakeLists.txt
+++ b/man/man8/CMakeLists.txt
@@ -1,3 +1,5 @@
+set(CMAKE_INSTALL_DEFAULT_COMPONENT_NAME tools)
+
 find_program(GZIP gzip)
 file(GLOB FILES *.8)
 set(GZFILES "")
diff --git a/src/cc/CMakeLists.txt b/src/cc/CMakeLists.txt
index 104eff0e..5fd74b01 100644
--- a/src/cc/CMakeLists.txt
+++ b/src/cc/CMakeLists.txt
@@ -1,6 +1,8 @@
 # Copyright (c) PLUMgrid, Inc.
 # Licensed under the Apache License, Version 2.0 (the "License")
 
+set(CMAKE_INSTALL_DEFAULT_COMPONENT_NAME core)
+
 include_directories(${CMAKE_CURRENT_BINARY_DIR})
 include_directories(${CMAKE_CURRENT_SOURCE_DIR})
 # to be removed
diff --git a/tools/CMakeLists.txt b/tools/CMakeLists.txt
index 77f96f7e..e4c4853f 100644
--- a/tools/CMakeLists.txt
+++ b/tools/CMakeLists.txt
@@ -1,3 +1,5 @@
+set(CMAKE_INSTALL_DEFAULT_COMPONENT_NAME tools)
+
 file(GLOB C_FILES *.c)
 file(GLOB PY_FILES *.py)
 file(GLOB SH_FILES *.sh)
-- 
2.51.0


pkgbase = python-pytorch
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration
	pkgver = 2.2.1
	pkgrel = 1
	url = https://pytorch.org
	arch = x86_64
	license = BSD
	makedepends = python
	makedepends = python-setuptools
	makedepends = python-yaml
	makedepends = python-numpy
	makedepends = cmake
	makedepends = cuda
	makedepends = nccl
	makedepends = cudnn
	makedepends = git
	makedepends = rocm-hip-sdk
	makedepends = roctracer
	makedepends = miopen
	makedepends = magma-cuda
	makedepends = magma-hip
	makedepends = ninja
	makedepends = pkgconfig
	makedepends = doxygen
	makedepends = vulkan-headers
	makedepends = shaderc
	makedepends = onednn
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = openmpi
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = libuv
	depends = python-numpy
	depends = python-sympy
	depends = protobuf
	depends = ffmpeg
	depends = python-future
	depends = qt6-base
	depends = intel-oneapi-mkl
	depends = python-typing_extensions
	depends = numactl
	depends = python-jinja
	depends = python-networkx
	depends = python-filelock
	options = !lto
	options = !debug
	source = pytorch::git+https://github.com/pytorch/pytorch.git#tag=v2.2.1
	source = python-pytorch-ARM_NEON_2_x86_SSE::git+https://github.com/intel/ARM_NEON_2_x86_SSE.git
	source = python-pytorch-FP16::git+https://github.com/Maratyszcza/FP16.git
	source = python-pytorch-FXdiv::git+https://github.com/Maratyszcza/FXdiv.git
	source = python-pytorch-NNPACK::git+https://github.com/Maratyszcza/NNPACK.git
	source = python-pytorch-PeachPy::git+https://github.com/malfet/PeachPy.git
	source = python-pytorch-QNNPACK::git+https://github.com/pytorch/QNNPACK
	source = python-pytorch-VulkanMemoryAllocator::git+https://github.com/GPUOpen-LibrariesAndSDKs/VulkanMemoryAllocator.git
	source = python-pytorch-XNNPACK::git+https://github.com/google/XNNPACK.git
	source = python-pytorch-benchmark::git+https://github.com/google/benchmark.git
	source = python-pytorch-cpuinfo::git+https://github.com/pytorch/cpuinfo.git
	source = python-pytorch-cub::git+https://github.com/NVlabs/cub.git
	source = python-pytorch-cudnn-frontend::git+https://github.com/NVIDIA/cudnn-frontend.git
	source = python-pytorch-cutlass::git+https://github.com/NVIDIA/cutlass.git
	source = python-pytorch-eigen::git+https://gitlab.com/libeigen/eigen.git
	source = python-pytorch-fbgemm::git+https://github.com/pytorch/fbgemm
	source = python-pytorch-fbjni::git+https://github.com/facebookincubator/fbjni.git
	source = python-pytorch-flatbuffers::git+https://github.com/google/flatbuffers.git
	source = python-pytorch-fmt::git+https://github.com/fmtlib/fmt.git
	source = python-pytorch-foxi::git+https://github.com/houseroad/foxi.git
	source = python-pytorch-gemmlowp::git+https://github.com/google/gemmlowp.git
	source = python-pytorch-gloo::git+https://github.com/facebookincubator/gloo
	source = python-pytorch-googletest::git+https://github.com/google/googletest.git
	source = python-pytorch-ideep::git+https://github.com/intel/ideep
	source = python-pytorch-ios-cmake::git+https://github.com/Yangqing/ios-cmake.git
	source = python-pytorch-ittapi::git+https://github.com/intel/ittapi.git
	source = python-pytorch-json::git+https://github.com/nlohmann/json.git
	source = python-pytorch-kineto::git+https://github.com/pytorch/kineto
	source = python-pytorch-mimalloc::git+https://github.com/microsoft/mimalloc.git
	source = python-pytorch-nccl::git+https://github.com/NVIDIA/nccl
	source = python-pytorch-onnx-tensorrt::git+https://github.com/onnx/onnx-tensorrt
	source = python-pytorch-onnx::git+https://github.com/onnx/onnx.git
	source = python-pytorch-pocketfft::git+https://github.com/mreineck/pocketfft
	source = python-pytorch-protobuf::git+https://github.com/protocolbuffers/protobuf.git
	source = python-pytorch-psimd::git+https://github.com/Maratyszcza/psimd.git
	source = python-pytorch-pthreadpool::git+https://github.com/Maratyszcza/pthreadpool.git
	source = python-pytorch-pybind11::git+https://github.com/pybind/pybind11.git
	source = python-pytorch-sleef::git+https://github.com/shibatch/sleef
	source = python-pytorch-tbb::git+https://github.com/01org/tbb
	source = python-pytorch-tensorpipe::git+https://github.com/pytorch/tensorpipe.git
	source = python-pytorch-zstd::git+https://github.com/facebook/zstd.git
	source = python-pytorch-2_2_0-fix-cccl-build.patch::https://github.com/pytorch/pytorch/commit/2a440348958b3f0a2b09458bd76fe5959b371c0c.patch
	source = python-pytorch-fix-cuda-12_4.patch
	source = fix_include_system.patch
	source = use-system-libuv.patch
	source = fix-building-for-torchvision.patch
	source = 87773.patch
	source = disable-werror1.patch
	source = disable-werror2.patch
	source = disable-werror4.patch
	source = rocblas-batched.patch
	source = protobuf-23.patch
	source = glog-0.7.patch
	source = pytorch-rocm-jit.patch
	source = pytorch-missing-iostream.patch
	source = python-pytorch-ffmpeg6.patch
	source = python-pytorch-rocm-6.patch
	source = python-pytorch-goo-rocm-6.patch
	source = pytorch-remove-caffe2-binaries.patch
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = SKIP
	b2sums = ae31599abcfde4d7dcf20d5430cbdab46d1c74b342c088883d6c949fad1987cbd16520d8f1d887b669c0990aae4baf4f0c350eeadbf237abf3a8e8a122722f3e
	b2sums = caf22a33fab6ca909cc9325ed6c32fdf36189dbdc77bb921d7db88fb5228f33ca2d90b1368b5ef88624277be422eaeb395768f9f2ddca19f39a238ed3c40efbd
	b2sums = 77f85808e480bd37dfb5f072d565466ae30a8f827f49ef97591fc2fc03bea54944eb1adeaa4a1e3466518a5640f575eda88d15b4c4d549a6f41f0bf4f2cfb086
	b2sums = af8c724ed80898ae3875a295ad6bd4d18d90f8a9124f6cff6d1b2f525bf7806fe61306e739c1f7362fbd8d0e4f8ba57d0e3bf925ea3f7a78a0a98f26722db147
	b2sums = fdea0b815d7750a4233c1d4668593020da017aea43cf4cb63b4c00d0852c7d34f0333e618fcf98b8df2185313a2089b8c2e9fe8ec3cfb0bf693598f9c61461a8
	b2sums = 0a8fc110a306e81beeb9ddfb3a1ddfd26aeda5e3f7adfb0f7c9bc3fd999c2dde62e0b407d3eca573097a53fd97329214e30e8767fb38d770197c7ec2b53daf18
	b2sums = 844d0b7b39777492a6d456fa845d5399f673b4bb37b62473393449c9ad0c29dca3c33276dc3980f2e766680100335c0acfb69d51781b79575f4da112d9c4018c
	b2sums = 985e331b2025e1ca5a4fba5188af0900f1f38bd0fd32c9173deb8bed7358af01e387d4654c7e0389e5f98b6f7cbed053226934d180b8b3b1270bdbbb36fc89b2
	b2sums = eea86bbed0a37e1661035913536456f90e0cd1e687c7e4103011f0688bc8347b6fc2ff82019909c41e7c89ddbc3b80dde641e88abf406f4faebc71b0bb693d25
	b2sums = 232d2aca7cae8da511d1451890f8696d47da72276929ac5731a1a1a481d2a515fa7288bf33730d8ea2c892616551a74ca2439b53de6b1dfee156c30919120741
	b2sums = 738199e7a11940c839a43ac4e3152d84e15b9cde638227d3d87ecb45f82c5e76630a56c49bcfb08e841f92be1b2311f2fad4fafdcc17f5b00b7a8ef6d962f250
	b2sums = 20d044c5c80354af5ed63847fa4332e96cbfc32a351788f6458fb92b322de7f64b10c188ff26e4f34e422cfe30e082c3ca23ee3e9094616c142aa53588dd451e
	b2sums = e19fbb32da5a3bdd9d1505b2ba79ff0d765b241da819c96a380a5c871be4f5a78dcad000e01a315d936cfebb7860150f8111e60aed17cbb9337896a0831df0fe
	b2sums = 77458fa568692020ae4e437b1ebae6ebbf59f040b3414ba03e32cc829f1befb9f39dde6e0c0525e30d42dd08d482d2f213dd8294a9877476c7d0d6aabb0f08d3
	b2sums = c17c2d2c085795861cb46974e8e251a0eb576c35a1dd2d75bcb880119bcc800c49bf6bc25c8f671c984b48787b5b919ef946352e299dc13d3ff763ae1bcc33a4
	b2sums = 6cf1cf6a636cf42b0fad6c4475f941e95a7a18cbd17fbab63576619fc3849213ff4fb0190b25e63d3438d7dbd259b3afb80e12a59d6b025edb02d576bff7b864
	b2sums = da7184d166270b59efb83105d19c0de6c9fe8c386e66807ac93e65761410ac5a91a2305f92022262a32cf5cf31bbcc08bb3f7975dd6063dda2408195aa3fe475
	b2sums = 21e9922ed1c0b555316a655067a789ef81a93b173e35446ecd2d06d976d49ad6b4a0aaa7339fd647758e821c15bec7ffda3d6e4804c8e858a888f0171cd2a9cb

pkgname = python-pytorch
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration

pkgname = python-pytorch-opt
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration (with AVX2 CPU optimizations)
	provides = python-pytorch=2.2.1
	conflicts = python-pytorch

pkgname = python-pytorch-cuda
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration (with CUDA)
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = openmpi
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = libuv
	depends = python-numpy
	depends = python-sympy
	depends = protobuf
	depends = ffmpeg
	depends = python-future
	depends = qt6-base
	depends = intel-oneapi-mkl
	depends = python-typing_extensions
	depends = numactl
	depends = python-jinja
	depends = python-networkx
	depends = python-filelock
	depends = cuda
	depends = nccl
	depends = cudnn
	depends = magma-cuda
	depends = onednn
	provides = python-pytorch=2.2.1
	conflicts = python-pytorch

pkgname = python-pytorch-opt-cuda
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration (with CUDA and AVX2 CPU optimizations)
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = openmpi
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = libuv
	depends = python-numpy
	depends = python-sympy
	depends = protobuf
	depends = ffmpeg
	depends = python-future
	depends = qt6-base
	depends = intel-oneapi-mkl
	depends = python-typing_extensions
	depends = numactl
	depends = python-jinja
	depends = python-networkx
	depends = python-filelock
	depends = cuda
	depends = nccl
	depends = cudnn
	depends = magma-cuda
	depends = onednn
	provides = python-pytorch=2.2.1
	provides = python-pytorch-cuda=2.2.1
	conflicts = python-pytorch

pkgname = python-pytorch-rocm
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration (with ROCm)
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = openmpi
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = libuv
	depends = python-numpy
	depends = python-sympy
	depends = protobuf
	depends = ffmpeg
	depends = python-future
	depends = qt6-base
	depends = intel-oneapi-mkl
	depends = python-typing_extensions
	depends = numactl
	depends = python-jinja
	depends = python-networkx
	depends = python-filelock
	depends = rocm-hip-sdk
	depends = roctracer
	depends = miopen
	depends = magma-hip
	depends = onednn
	provides = python-pytorch=2.2.1
	conflicts = python-pytorch

pkgname = python-pytorch-opt-rocm
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration (with ROCm and AVX2 CPU optimizations)
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = openmpi
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = libuv
	depends = python-numpy
	depends = python-sympy
	depends = protobuf
	depends = ffmpeg
	depends = python-future
	depends = qt6-base
	depends = intel-oneapi-mkl
	depends = python-typing_extensions
	depends = numactl
	depends = python-jinja
	depends = python-networkx
	depends = python-filelock
	depends = rocm-hip-sdk
	depends = roctracer
	depends = miopen
	depends = magma-hip
	depends = onednn
	provides = python-pytorch=2.2.1
	provides = python-pytorch-rocm=2.2.1
	conflicts = python-pytorch

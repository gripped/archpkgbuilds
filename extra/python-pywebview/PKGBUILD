# Maintainer: Giovanni Harting <anonfunc@archlinux.org>
# Contributor: keutain < quentin dot aniere at gmail dot com>
# Contributor: Shae VanCleave

pkgname=python-pywebview
_name=${pkgname#python-}
pkgver=6.0
pkgrel=2
pkgdesc='Build GUI for your Python program with JavaScript, HTML, and CSS'
arch=(any)
url='https://github.com/r0x0r/pywebview'
license=(BSD-3-Clause)
depends=(python glib2 python-bottle python-cryptography python-proxy_tools python-typing_extensions)
makedepends=(python-build python-installer python-setuptools-scm python-wheel git)
optdepends=('pyside6: use with QtPy, PySide6'
            'python-gobject: use with GTK'
            'python-pygobject-stubs: use with GTK'
            'python-qtpy: use with Qt'
            'webkit2gtk-4.1: use with GTK')
source=("git+$url.git#tag=$pkgver")
b2sums=('4b5d932b855707f69c7248cb60574919ec5c8e6cc2d86187bfe85969deaa114c5c4505761a9e92304dc4d15db12446adf0c53906a8b1154ddac2dcf6bb5bff52')

build() {
  cd $_name

  python -m build --wheel --no-isolation
}

package() {
  cd $_name
  
  python -m installer --destdir="$pkgdir" dist/*.whl
  install -Dm644 LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
}

# vim:set ts=2 sw=2 et:

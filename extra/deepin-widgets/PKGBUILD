# Maintainer: Felix Yan <felixonmars@archlinux.org>

pkgname=deepin-widgets
pkgver=6.0.15
pkgrel=1
pkgdesc='Desktop widgets service/implementation for DDE'
arch=('x86_64')
url="https://github.com/linuxdeepin/dde-widgets"
license=('GPL3')
# startdde: org.deepin.dde.Display1
depends=('qt5-base' 'dtkcore' 'dtkgui' 'dtkwidget' 'glibc' 'gcc-libs' 'startdde')
makedepends=('git' 'cmake' 'ninja' 'gtest' 'qt5-tools')
groups=('deepin')
source=("git+https://github.com/linuxdeepin/dde-widgets.git#tag=$pkgver")
sha512sums=('b962000dc4bb62cbcc281ef7005928c3f4f7c56a51e433c145ff64f9deb2c3775542c8ffab52d2d56b7c475ccd5c5c30f68a4623f8ed7be71e7844fe82adc2fa')

build() {
  cd dde-widgets
  cmake . -GNinja
  ninja
}

package() {
  cd dde-widgets
  DESTDIR="$pkgdir" ninja install
}

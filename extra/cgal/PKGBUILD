# Maintainer: Bruno Pagani <archange@archlinux.org>
# Maintainer: Jakub Klinkovsk√Ω <lahwaacz at archlinux dot org>
# Contributor: Dmitriy Morozov <foxcub>
# Contributor: Kyle Keen <keenerd@gmail.com>

pkgname=cgal
pkgver=6.1
pkgrel=1
pkgdesc="Computational Geometry Algorithms Library"
arch=(any)
url="https://www.cgal.org"
license=(GPL-3.0-or-later LGPL-3.0-or-later)
depends=(boost eigen gmp mpfr)
makedepends=(cmake)
source=(https://github.com/CGAL/cgal/releases/download/v$pkgver/CGAL-$pkgver.tar.xz)
sha256sums=('618da8a8b3f5be46b4f0a47a1efb3c9e6c03d6aab0f5531d56d355d32701d79f')

build() {
  local cmake_options=(
    -B build
    -S CGAL-$pkgver
    -W no-dev
    -DCMAKE_INSTALL_PREFIX=/usr
  )
  cmake "${cmake_options[@]}"
  cmake --build build
}

package() {
  DESTDIR="$pkgdir" cmake --install build
  mv "$pkgdir"/usr/share/doc/{CGAL,cgal}
}

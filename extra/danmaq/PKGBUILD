# Maintainer: Felix Yan <felixonmars@archlinux.org>

pkgname=danmaq
pkgdesc="A small client side Qt program to play danmaku on any screen"
pkgver=0.3.0
pkgrel=1
arch=("x86_64")
license=('GPL-3.0-or-later')
url="https://github.com/tuna/danmaQ"
depends=('qt6-base' 'qt6-webengine')
makedepends=('cmake' 'qt6-tools')
source=("$pkgname-$pkgver.tar.gz::https://github.com/tuna/danmaQ/archive/v$pkgver.tar.gz")
sha512sums=('4ca80db5c4e837048263ce7dd4b7b7a4000e593b59e8a8bd2def6f9e3d50e82883ea002bd184aaa32b167c7a9e7a077f800701bca332dc675f6ee2d6860febe4')

prepare() {
  mkdir -p build
}

build() {
  cd build
  cmake ../danmaQ-$pkgver \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=Release
  make
}

package() {
  cd build
  make DESTDIR="$pkgdir" install
}

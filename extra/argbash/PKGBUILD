# Maintainer: Jaroslav Lichtblau <svetlemodry@archlinux.org>
# Contributor: Matěj Týč <matej.tyc@gmail.com>

pkgname=argbash
pkgver=2.11.0
pkgrel=1
pkgdesc="Bash argument parsing code generator"
arch=(any)
url="https://argbash.dev"
license=('BSD')
depends=('autoconf')
makedepends=('make' 'python-docutils')
checkdepends=('shellcheck')
source=($pkgname-$pkgver.tar.gz::https://github.com/matejak/$pkgname/archive/$pkgver.tar.gz)
sha256sums=('a749518116624e0ff1f71c9eadfd28e8580c3be6534446fbcd421ab6a67d453e')

check() {
  cd $pkgname-$pkgver/resources

  # ^---^ SC2317 (info): Command appears to be unreachable. Check usage (or ignore if invoked indirectly).
  #make check
}

package() {
  cd $pkgname-$pkgver/resources

  make ROOT="${pkgdir}" PREFIX="/usr" BASH_COMPLETION_DIRECTORY=/usr/share/bash-completion/completions/ INSTALL_COMPLETION=yes install
  install -Dm644 ../LICENSE "${pkgdir}"/usr/share/licenses/$pkgname/LICENSE
}

pkgbase = onnxruntime
	pkgver = 1.24.2
	pkgrel = 1
	url = https://github.com/microsoft/onnxruntime
	arch = x86_64
	license = MIT
	makedepends = git
	makedepends = cmake
	makedepends = ninja
	makedepends = boost
	makedepends = pybind11
	makedepends = nlohmann-json
	makedepends = chrono-date
	makedepends = cxxopts
	makedepends = python-setuptools
	makedepends = python-installer
	makedepends = python-wheel
	makedepends = python-build
	makedepends = onednn
	makedepends = cuda
	makedepends = cudnn
	makedepends = nccl
	makedepends = rocm-toolchain
	makedepends = rocm-hip-sdk
	makedepends = hipify-clang
	makedepends = rocm-smi-lib
	makedepends = roctracer
	makedepends = migraphx
	makedepends = python-numpy
	makedepends = python-coloredlogs
	makedepends = python-psutil
	makedepends = python-py-cpuinfo
	makedepends = python-sympy
	makedepends = python-scipy
	makedepends = python-pillow
	makedepends = python-flatbuffers
	makedepends = python-protobuf
	makedepends = python-packaging
	depends = abseil-cpp
	depends = boost-libs
	source = git+https://github.com/microsoft/onnxruntime#tag=v1.24.2
	source = onnxruntime-install-orttraining-files.patch
	source = onnxruntime-system-dnnl.patch
	source = onnxruntime-system-flatbuffers.patch
	source = fix-thrust-api.patch
	b2sums = 2bccc3469511273503644b29e742d890873d7aedc2c2c8d47a6e0e29f48921a51db4ead1a04fa8cdda1fcfa83baae67f891aebbd9457e61512257cdaed2ca970
	b2sums = af5a5524dd9b5fe0052d2d0da232de7f219d4abffb37a7a321145b428d06fcb2901ab4e76b6754440146c223fc761bcbdfeee230167d33aa4434b82a1ebad5c0
	b2sums = 57c79382537f5bd25a891de3a99415a6dd8f490676df213016e897040c88e28fb5f5a5c3a8a98057e3f6630edb3ddcaeae36dcc47d5354abaafafc36e579f731
	b2sums = 207f020f310a7b447b4dc2fac74819f80099f088fdad6e42d67d0f01aa35bb5b9475bd006d9bec318127ae2db3d7ae3df33382fa16339d936c1dfb3832010837
	b2sums = b0b58e2eb42a38956ef9e86b853d413c2fd002737d37721962dd9e1fc5c39c1ef4594325c6f6081f2b4cdce39a14907dbebc156645fa25ff3f2bbbce6417cd14

pkgname = onnxruntime-cpu
	pkgdesc = Cross-platform, high performance scoring engine for ML models (CPU only)
	provides = onnxruntime=1.24.2
	conflicts = onnxruntime

pkgname = onnxruntime-cuda
	pkgdesc = Cross-platform, high performance scoring engine for ML models (with CUDA)
	depends = abseil-cpp
	depends = boost-libs
	depends = cuda
	depends = cudnn
	depends = nccl
	depends = onednn
	provides = onnxruntime=1.24.2
	conflicts = onnxruntime
	replaces = onnxruntime

pkgname = onnxruntime-opt-cuda
	pkgdesc = Cross-platform, high performance scoring engine for ML models (with CUDA and AVX2 CPU optimizations)
	depends = abseil-cpp
	depends = boost-libs
	depends = cuda
	depends = cudnn
	depends = nccl
	depends = onednn
	provides = onnxruntime=1.24.2
	conflicts = onnxruntime
	replaces = onnxruntime-opt

pkgname = onnxruntime-rocm
	pkgdesc = Cross-platform, high performance scoring engine for ML models (with ROCm)
	depends = abseil-cpp
	depends = boost-libs
	depends = rocm-hip-sdk
	depends = roctracer
	depends = rccl
	depends = migraphx
	provides = onnxruntime=1.24.2
	conflicts = onnxruntime

pkgname = onnxruntime-opt-rocm
	pkgdesc = Cross-platform, high performance scoring engine for ML models (with ROCm and AVX2 CPU optimizations)
	depends = abseil-cpp
	depends = boost-libs
	depends = rocm-hip-sdk
	depends = roctracer
	depends = rccl
	depends = migraphx
	provides = onnxruntime=1.24.2
	conflicts = onnxruntime

pkgname = python-onnxruntime-cpu
	pkgdesc = Cross-platform, high performance scoring engine for ML models (CPU only)
	depends = abseil-cpp
	depends = boost-libs
	depends = onnxruntime-cpu
	depends = python-numpy
	depends = python-coloredlogs
	depends = python-psutil
	depends = python-py-cpuinfo
	depends = python-sympy
	depends = python-scipy
	depends = python-pillow
	depends = python-flatbuffers
	depends = python-protobuf
	depends = python-packaging
	provides = python-onnxruntime=1.24.2
	conflicts = python-onnxruntime

pkgname = python-onnxruntime-cuda
	pkgdesc = Cross-platform, high performance scoring engine for ML models (with CUDA)
	depends = abseil-cpp
	depends = boost-libs
	depends = onnxruntime-cuda
	depends = python-numpy
	depends = python-coloredlogs
	depends = python-psutil
	depends = python-py-cpuinfo
	depends = python-sympy
	depends = python-scipy
	depends = python-pillow
	depends = python-flatbuffers
	depends = python-protobuf
	depends = python-packaging
	provides = python-onnxruntime=1.24.2
	conflicts = python-onnxruntime
	replaces = python-onnxruntime

pkgname = python-onnxruntime-opt-cuda
	pkgdesc = Cross-platform, high performance scoring engine for ML models (with CUDA and AVX2 CPU optimizations)
	depends = abseil-cpp
	depends = boost-libs
	depends = onnxruntime-opt-cuda
	depends = python-numpy
	depends = python-coloredlogs
	depends = python-psutil
	depends = python-py-cpuinfo
	depends = python-sympy
	depends = python-scipy
	depends = python-pillow
	depends = python-flatbuffers
	depends = python-protobuf
	depends = python-packaging
	provides = python-onnxruntime=1.24.2
	conflicts = python-onnxruntime
	replaces = python-onnxruntime-opt

pkgname = python-onnxruntime-rocm
	pkgdesc = Cross-platform, high performance scoring engine for ML models (with ROCm)
	depends = abseil-cpp
	depends = boost-libs
	depends = onnxruntime-rocm
	depends = python-numpy
	depends = python-coloredlogs
	depends = python-psutil
	depends = python-py-cpuinfo
	depends = python-sympy
	depends = python-scipy
	depends = python-pillow
	depends = python-flatbuffers
	depends = python-protobuf
	depends = python-packaging
	provides = python-onnxruntime=1.24.2
	conflicts = python-onnxruntime

pkgname = python-onnxruntime-opt-rocm
	pkgdesc = Cross-platform, high performance scoring engine for ML models (with ROCm and AVX2 CPU optimizations)
	depends = abseil-cpp
	depends = boost-libs
	depends = onnxruntime-opt-rocm
	depends = python-numpy
	depends = python-coloredlogs
	depends = python-psutil
	depends = python-py-cpuinfo
	depends = python-sympy
	depends = python-scipy
	depends = python-pillow
	depends = python-flatbuffers
	depends = python-protobuf
	depends = python-packaging
	provides = python-onnxruntime=1.24.2
	conflicts = python-onnxruntime

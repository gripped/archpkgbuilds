# Maintainer: Jaroslav Lichtblau <svetlemodry@archlinux.org>
# Maintainer: Carl Smedstad <carsme@archlinux.org>
# Contributor: Carlo Abelli <carlo@abelli.me>
# Contributor: Giancarlo Razzolini <grazzolini@archlinux.org>
# Contributor: Federico Cinelli <cinelli@aur.archlinux.org>
# Contributor: Thomas Dziedzic  < gostrc at gmail >
# Contributor: Gabriel Martinez < reitaka at gmail dot com >

pkgname=ifuse
pkgver=1.2.0
pkgrel=1
pkgdesc="A fuse filesystem to access the contents of an iPhone or iPod Touch"
arch=(x86_64)
url="https://libimobiledevice.org/"
license=(LGPL-2.1-only)
depends=(
  fuse3
  glibc
  libimobiledevice
  libplist
  usbmuxd
)
makedepends=(git)
source=("git+https://github.com/libimobiledevice/ifuse#tag=$pkgver")
b2sums=('de24a6cdd59443f1fa5bae849e37e954fdb7ddc8b071568a22b212de22b85db13f4fef50a842bcf86bb55cdb4dc9d3331ec8aff40839a8e157c0c395fc267e66')

build() {
  cd $pkgname
  ./autogen.sh --prefix=/usr
  make
}

package() {
  cd $pkgname
  make DESTDIR="$pkgdir" install
}

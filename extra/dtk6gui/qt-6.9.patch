diff --git a/tests/platform-plugin-test/qminimalintegration.cpp b/tests/platform-plugin-test/qminimalintegration.cpp
index 5587de6..1a01609 100644
--- a/tests/platform-plugin-test/qminimalintegration.cpp
+++ b/tests/platform-plugin-test/qminimalintegration.cpp
@@ -14,7 +14,7 @@
 #include <qpa/qwindowsysteminterface.h>
 
 #include <private/qgenericunixeventdispatcher_p.h>
-#include <private/qgenericunixservices_p.h>
+#include <private/qdesktopunixservices_p.h>
 
 MinimalIntegration::MinimalIntegration(const QStringList &parameters)
 {
@@ -53,7 +53,7 @@ QAbstractEventDispatcher *MinimalIntegration::createEventDispatcher() const
 QPlatformServices *MinimalIntegration::services() const
 {
     if (!m_services)
-        m_services.reset(new QGenericUnixServices);
+        m_services.reset(new QDesktopUnixServices);
     return m_services.get();
 }
 

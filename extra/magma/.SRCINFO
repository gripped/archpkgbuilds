pkgbase = magma
	pkgver = 2.8.0
	pkgrel = 3
	url = https://icl.utk.edu/magma/
	arch = x86_64
	license = BSD-3-Clause
	makedepends = git
	makedepends = cmake
	makedepends = ninja
	makedepends = python
	makedepends = gcc-fortran
	makedepends = cuda
	makedepends = rocm-core
	makedepends = hip-runtime-amd
	makedepends = hipblas
	makedepends = hipsparse
	depends = blas
	depends = lapack
	optdepends = python: for examples and tests
	optdepends = gcc-fortran: Fortran interface
	options = !lto
	source = magma::git+https://github.com/icl-utk-edu/magma.git#tag=v2.8.0
	source = add_cuda_archs.patch
	source = hip_device.patch
	source = min_max_macros.patch
	sha256sums = 781bafd605579512b441664f76c9ba5559268f95f9357247cb8e04b76a72061e
	sha256sums = e3909f60ef1fbfa889d8aff5c50eac2aab9e21748968e06147d5bbf44d0c7afd
	sha256sums = 86739e85b015f8919e404ad32f5f57a446be86d2b728dba4eff17c536fbaef62
	sha256sums = 6f7a08ada14a1f0956a445e82eb263090e9165d2adcc35a08bbffe379cd3a46f

pkgname = magma-cuda
	pkgdesc = Matrix Algebra on GPU and Multicore Architectures (with CUDA)
	depends = blas
	depends = lapack
	depends = cuda
	provides = magma
	replaces = magma

pkgname = magma-hip
	pkgdesc = Matrix Algebra on GPU and Multicore Architectures (with ROCm/HIP)
	depends = blas
	depends = lapack
	depends = hip-runtime-amd
	depends = hipblas
	depends = hipsparse
	provides = hipmagma
	replaces = hipmagma

pkgbase = magma
	pkgver = 2.7.2
	pkgrel = 2
	url = https://icl.utk.edu/magma/
	arch = x86_64
	license = custom
	makedepends = gcc-fortran
	makedepends = cmake
	makedepends = ninja
	makedepends = cuda
	makedepends = hip-runtime-amd
	makedepends = hipblas
	makedepends = hipsparse
	depends = blas
	depends = lapack
	optdepends = python: for examples and tests
	optdepends = gcc-fortran: Fortran interface
	options = !lto
	source = magma-2.7.2.tar.gz::https://icl.utk.edu/projectsfiles/magma/downloads/magma-2.7.2.tar.gz
	source = add_cuda_archs.patch
	sha256sums = 729bc1a70e518a7422fe7a3a54537a4741035a77be3349f66eac5c362576d560
	sha256sums = 1ed3706a65a124ecef71012273687307aac70bfc80bc99a978002dfb0ee000cc

pkgname = magma-cuda
	pkgdesc = Matrix Algebra on GPU and Multicore Architectures (with CUDA)
	depends = blas
	depends = lapack
	depends = cuda
	provides = magma
	replaces = magma

pkgname = magma-hip
	pkgdesc = Matrix Algebra on GPU and Multicore Architectures (with ROCm/HIP)
	depends = blas
	depends = lapack
	depends = hip-runtime-amd
	depends = hipblas
	depends = hipsparse
	provides = hipmagma
	replaces = hipmagma

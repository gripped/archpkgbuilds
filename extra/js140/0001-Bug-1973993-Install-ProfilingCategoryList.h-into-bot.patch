From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Steve Fink <sfink@mozilla.com>
Date: Thu, 24 Jul 2025 01:34:28 +0000
Subject: [PATCH] Bug 1973993 - Install ProfilingCategoryList.h into both the
 js/ directory and the toplevel include directory  a=RyanVM

Original Revision: https://phabricator.services.mozilla.com/D256360

Differential Revision: https://phabricator.services.mozilla.com/D258478
---
 js/src/build/Makefile.in | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/js/src/build/Makefile.in b/js/src/build/Makefile.in
index 99a2ffe3d4c3..50a98f1b1767 100644
--- a/js/src/build/Makefile.in
+++ b/js/src/build/Makefile.in
@@ -31,8 +31,11 @@ install:: $(LIBRARY_NAME).pc
 install:: ../js-config.h
 	$(SYSINSTALL) $^ $(DESTDIR)$(includedir)/$(JS_LIBRARY_NAME)
 
+# Install the profiling category list into both js/ and the root include
+# directory, for use with both js-specific and base profilers.
 install:: ../../../mozglue/baseprofiler/public/ProfilingCategoryList.h
 	$(SYSINSTALL) $^ $(DESTDIR)$(includedir)/$(JS_LIBRARY_NAME)/js
+	$(SYSINSTALL) $^ $(DESTDIR)$(includedir)/$(JS_LIBRARY_NAME)
 
 ######################################################
 # BEGIN SpiderMonkey header installation

# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=passt
pkgver=2024_02_16.08344da
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64)
url="https://passt.top/passt/about/"
license=(
  BSD-3-Clause
  GPL-2.0-or-later
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('19cc03afe157f594c33bf19b7f2fcd0cbbfc73f10a92264abd575c479a7c127e93f3a78698496a2e555357ac3aa3532d5087f42ff291c3693acf07aed8046e20')
b2sums=('317d38690968e356604389816625d857595c4d7b730301b8101d3d60d61b51461c24e3762f2abbec72b4d8f1e8330136386a400fa61ccdcab3950cd0daf42b0b')

build() {
  make -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}

# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=passt
pkgver=2023_11_10.5ec3634
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64)
url="https://passt.top/passt/about/"
license=(
  BSD-3-Clause
  GPL-2.0-or-later
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('b544c5a11faa5800b59fcc7700f87f1c7d7da3929663cadcce4214fa9a86b3b6a345fb37fb5c8d555049af914b04b32641b5ffb4567df075b943e000c1acd47b')
b2sums=('c0cf340c7304b93e69363be85b85813722cd4e98fbdfe68bedb5db8dc8791c8049774707a526142d1f627ea79a2294ab1d0adcc653e0f73f646c940467e533a2')

build() {
  make -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}

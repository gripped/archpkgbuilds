# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=passt
pkgver=2023_11_07.74e6f48
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64)
url="https://passt.top/passt/about/"
license=(
  BSD-3-Clause
  GPL-2.0-or-later
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('6f3fe05e0c3b6c91e026bf5bc7c15677269ab331e2c5fa1812dd30533bfc427997f09680a0d698b18b194d92cc8d6b5cbc5a767e06f53a608dfd4141bab2a53f')
b2sums=('7ed719ea6eca908f6d67a8515ceea5248ff5b9fbf75ed8949d4d8959988cd9d0fdeccdaf1b068547a0a2fbc2d087b2eca9a3ef6356f6bbdaa07dbe0faa220dba')

build() {
  make -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}

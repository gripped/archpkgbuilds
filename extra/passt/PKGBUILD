# Maintainer: David Runge <dvzrv@archlinux.org>
# Maintainer: Christian Heusel <christian@heusel.eu>

pkgname=passt
pkgver=2026_01_17.81c97f6
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64)
url="https://passt.top/passt/about/"
license=(
  BSD-3-Clause
  GPL-2.0-or-later
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('a5d82b81be8354b9a073650d91692e78d35f26f7c3b7945bb4d189c1c4ef5b4285600977615d0162076d04e22c85c7341bcde0ac444fe70fd23b135ff52a8e33')
b2sums=('462c190b92be417623e804f2dc1716038c59602666ce24302b86cd73886b7567d782b2ce5501f14795055b6bbe3b65b3881a4d98cbf8f75445ba593e8cef3835')

build() {
  make VERSION="$pkgver" -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}

# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=passt
pkgver=2023_06_03.429e1a7
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64)
url="https://passt.top/passt/about/"
license=(
  BSD
  GPL2
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('b3e104312e4adf9c96031c788b4da0910da7a8490f55dd344ff8fddb55706c63812a7512b6e3d1faffb2cb74dbf5a486f5a3f28ad66b057d5575739b02224a55')
b2sums=('3ccc0f4dc01ac6665ff3b49c0837505e863995becef9c6b589b1f51599490bb28252284f7a9e58d60c5ded99c9a5b5c53b620c076f32884ea4e55f12a357b949')

build() {
  make -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}

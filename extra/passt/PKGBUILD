# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=passt
pkgver=2023_10_04.f851084
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64)
url="https://passt.top/passt/about/"
license=(
  BSD-3-Clause
  GPL-2.0-or-later
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('e5c59e6370de10c7a4fa35fcf4e584b27431ac79d97966d403e41c5034e19d0872c5a6d32fe39a0c2df778540abcb7d8da5dda3daf78d8e88da1dad9b787d071')
b2sums=('477101450806a42ae5151cad3606a3cc6084ac2ce62bb03482d07784e0ccecb86d3bb2f99112bbf506002a382406a5a14d4e4ce13de4b7022499738dde6f981e')

build() {
  make -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}

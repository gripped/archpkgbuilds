# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=passt
pkgver=2023_06_25.32660ce
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64)
url="https://passt.top/passt/about/"
license=(
  BSD
  GPL2
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('9fc7214a3f0e2c59169fa2161fcfa267c5858496b2780ccf95b674b41ce5227f092212cea2a34efb9f7009d0a68f4ceeec1c21ee0d2247cc4413700134d1f27b')
b2sums=('e44a0e4b700ad7d915ade4379d4275ab3a3588d8e95290cf2e1111925354e5f81fc270eb533919827ffff7bf89509a32f902b1e7240477eee10bd15d4f25b18c')

build() {
  make -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}

# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=passt
pkgver=2023_08_18.0af928e
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64)
url="https://passt.top/passt/about/"
license=(
  BSD-3-Clause
  GPL-2.0-or-later
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('a764c1e185740c7bd91188dda4ae110197121c4b3a27603e9ff72ce16ccbea27c0c17b4f34171bd2f6caba365e1980831a2e3c36aff5053bdf59857b81964ed6')
b2sums=('a6e943aea9f5c65535413e9333f54fef923f3580d36179da1fca68146ef9537aa18ffff60ef35f2f77abb6cab5206ff59f85a458849105aba623ab63c2cee1f8')

build() {
  make -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}

# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=passt
pkgver=2024_02_20.1e6f92b
pkgrel=1
pkgdesc="Plug A Simple Socket Transport"
arch=(x86_64)
url="https://passt.top/passt/about/"
license=(
  BSD-3-Clause
  GPL-2.0-or-later
)
depends=(glibc)
optdepends=(
  'sh: for demo script'
)
source=(https://passt.top/$pkgname/snapshot/$pkgname-$pkgver.tar.zst)
sha512sums=('51c1c5226d6383ad6c3b2249f2f17fa408eb9882923423b8025067ef67bb4d88ac9b6206575a23176ed78c4e00b4cf6817cdf86daf4eb3cee0c6153d32bf4adf')
b2sums=('68eaaa0e0a6c7635bb46a29bfde1f97026dfe5a2dc3dc552ad7729b85723ec39791873fc5072c0a31f9fc07c3d58caf45c05835e423d4ba681076b25a4a2880c')

build() {
  make -C $pkgname-$pkgver
}

package() {
  make DESTDIR="$pkgdir/" prefix=/usr install -C $pkgname-$pkgver
  install -vDm 644 $pkgname-$pkgver/LICENSES/* -t "$pkgdir/usr/share/licenses/$pkgname/"
}

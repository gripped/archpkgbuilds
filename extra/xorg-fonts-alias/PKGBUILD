# Maintainer: Andreas Radke <andyrtr@archlinux.org>
# Contributor: Jan de Groot <jgc@archlinux.org>

pkgbase=xorg-fonts-alias
pkgname=('xorg-fonts-alias-100dpi' 'xorg-fonts-alias-75dpi' 'xorg-fonts-alias-cyrillic' 'xorg-fonts-alias-misc')
pkgver=1.0.6
pkgrel=1
arch=('any')
url="https://xorg.freedesktop.org/"
makedepends=('xorg-util-macros')
license=('LicenseRef-xorg-fonts-alias')
source=(${url}/releases/individual/font/font-alias-${pkgver}.tar.xz{,.sig})
sha512sums=('a6c5441a1dab197799716c5b9940871c40731c21f2dcf7557b51a6ed090332157bb6f3f733e61a9aa5709c6065c7b9e988cf486b1a68a499c73fe0c6c3dee355'
            'SKIP')
validpgpkeys=('3AB285232C46AE43D8E192F4DAB0F78EA6E7E2D2') # "Alan Coopersmith <alan.coopersmith@oracle.com>"

build() {
  cd "${srcdir}/font-alias-${pkgver}"
  ./configure --prefix=/usr --with-fontrootdir=/usr/share/fonts
  make
}

package_xorg-fonts-alias-100dpi() {

  pkgdesc="X.org font alias files - 100dpi font familiy"
  conflicts=(xorg-fonts-alias)

  cd "${srcdir}/font-alias-${pkgver}"
  make -C 100dpi DESTDIR="${pkgdir}" install
  install -Dm644 COPYING "${pkgdir}/usr/share/licenses/${pkgname}/COPYING"
}

package_xorg-fonts-alias-75dpi() {

  pkgdesc="X.org font alias files - 75dpi font familiy"
  conflicts=(xorg-fonts-alias)

  cd "${srcdir}/font-alias-${pkgver}"
  make -C 75dpi DESTDIR="${pkgdir}" install
  install -Dm644 COPYING "${pkgdir}/usr/share/licenses/${pkgname}/COPYING"
}
package_xorg-fonts-alias-cyrillic() {

  pkgdesc="X.org font alias files - cyrillic font familiy"
  conflicts=(xorg-fonts-alias)

  cd "${srcdir}/font-alias-${pkgver}"
  make -C cyrillic DESTDIR="${pkgdir}" install
  install -Dm644 COPYING "${pkgdir}/usr/share/licenses/${pkgname}/COPYING"
}
package_xorg-fonts-alias-misc() {

  pkgdesc="X.org font alias files - misc font familiy"
  conflicts=(xorg-fonts-alias)

  cd "${srcdir}/font-alias-${pkgver}"
  make -C misc DESTDIR="${pkgdir}" install
  install -Dm644 COPYING "${pkgdir}/usr/share/licenses/${pkgname}/COPYING"
}

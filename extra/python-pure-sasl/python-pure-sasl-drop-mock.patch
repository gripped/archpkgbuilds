From 2883278ef41b9733bb385c81cf3f36b293bb0cc0 Mon Sep 17 00:00:00 2001
From: Felix Yan <felixonmars@archlinux.org>
Date: Sun, 25 Jun 2023 09:59:17 +0300
Subject: [PATCH] Use unittest.mock in newer Python

---
 test-requirements.txt        | 2 +-
 tests/unit/test_mechanism.py | 6 +++++-
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/test-requirements.txt b/test-requirements.txt
index 01cd338..71511ae 100644
--- a/test-requirements.txt
+++ b/test-requirements.txt
@@ -1,5 +1,5 @@
 coverage
-mock
+mock ; python_version < '3.3'
 nose
 six
 unittest2 ; python_version < '2.7'
diff --git a/tests/unit/test_mechanism.py b/tests/unit/test_mechanism.py
index 0f5d161..4201fe9 100644
--- a/tests/unit/test_mechanism.py
+++ b/tests/unit/test_mechanism.py
@@ -12,7 +12,11 @@
 else:
     import kerberos
 
-from mock import patch
+try:
+    from unittest.mock import patch
+except ImportError:
+    from mock import patch
+
 import six
 import struct
 

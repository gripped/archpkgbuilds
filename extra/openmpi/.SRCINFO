pkgbase = openmpi
	pkgdesc = High performance message passing library (MPI)
	pkgver = 5.0.6
	pkgrel = 2
	url = https://www.open-mpi.org
	arch = x86_64
	license = BSD-3-Clause AND LicenseRef-MPICH
	makedepends = cuda
	makedepends = nvidia-utils
	makedepends = gcc-fortran
	makedepends = gcc-libs
	makedepends = glibc
	makedepends = hip-runtime-amd
	makedepends = hwloc
	makedepends = libevent
	makedepends = libfabric
	makedepends = libnl
	makedepends = openpmix
	makedepends = openucc
	makedepends = openucx
	makedepends = prrte
	makedepends = valgrind
	makedepends = zlib
	source = https://www.open-mpi.org/software/ompi/v5.0/downloads/openmpi-5.0.6.tar.bz2
	source = fix-cuda-build.patch
	sha256sums = bd4183fcbc43477c254799b429df1a6e576c042e74a2d2f8b37d537b2ff98157
	sha256sums = 7acee1f8fd6b592b5e3ff09ed0f059a49387c0d00418430a67e5e6d849c8fbea
	b2sums = 72418c4d2cdc0628214e0c2db2e8d2dd52234a3888d7344eff23576b19de94d4cb74b168120d72cedeea8c835db363d83b61319fcdf13277c541003606f4558a
	b2sums = 51c5dfd4d7ca5b3f650efab4f0d8b383f8767ecfdb192272c796b00608cb412c7cc5ad1231af27be639b238d1e55be34e411aa40efbb37a6a3a99b83e3c2a1f9

pkgname = openmpi
	depends = gcc-libs
	depends = glibc
	depends = hwloc
	depends = libevent
	depends = libevent_core-2.1.so
	depends = libevent_pthreads-2.1.so
	depends = libfabric
	depends = libnl
	depends = openpmix
	depends = libpmix.so
	depends = openucx
	depends = prrte
	depends = zlib
	optdepends = cuda: cuda support
	optdepends = hip-runtime-amd: ROCm support
	optdepends = gcc-fortran: fortran support
	optdepends = openssh: for execution on remote hosts via plm_ssh_agent
	optdepends = openucc: for UCC accelerated collectives
	provides = libmpi.so
	provides = libmpi_mpifh.so
	provides = libmpi_usempi_ignore_tkr.so
	provides = libmpi_usempif08.so
	provides = libopen-pal.so
	provides = liboshmem.so
	backup = etc/openmpi/openmpi-mca-params.conf

pkgname = openmpi-docs
	pkgdesc = High performance message passing library (MPI) - documentation

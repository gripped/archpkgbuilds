# Maintainer: Sven-Hendrik Haase <svenstaro@archlinux.org>
# Contributor: erdii <me at erdii dot engineering>
pkgname=ramalama
pkgver=0.17.1
pkgrel=1
pkgdesc="Simple local AI using OCI containers"
arch=('any')
url="https://github.com/containers/ramalama"
license=('MIT')
depends=('python-argcomplete' 'python-jsonschema' 'python-jinja' 'python-yaml')
makedepends=(python-build python-installer python-wheel python-setuptools)
source=("$pkgname-$pkgver.tar.gz::https://github.com/containers/ramalama/archive/refs/tags/v${pkgver}.tar.gz")
sha256sums=('2df85b8d555a5a1f9d27fb51fdc320abc4704bfdaefa27c158f28978d197aad9')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  python -m build --wheel --no-isolation
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  python -m installer --destdir="$pkgdir" dist/*.whl
  install -Dm644 LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}

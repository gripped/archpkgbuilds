# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=29.0.1
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('custom:OFL')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-Iosevka-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaAile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurlySlab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaEtoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSlab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('7bd22a0bfa5df9566be1252ba12c42e4a033fea7166af766ba214fa4b0e252c6cff4c1db736558bfb56edf1e03a0fc9a7776e4b589b8649f5b51044e0d3340a8'
        '45406caab2ee70bcb63fb2c2fcd7318b2fb14d62f0e1366c7cea7039589347986f7f1a0c96edd00596e496c76fa6f6fcf8f583bd14ede349f00cd62887f7a3cf'
        '788c54eb8775cc943fca380f1c0acc58df5ad318c6b14ab5a349609d78dbe8bd475fef344c8ffb8d7455505151d9c3b58e2250b18f834990f591d649e561f189'
        'c8e6262f33f6d0b3a75357a9bb04847fa60beb7d8882a31cb9b9606511ac56a8c437cdf2033b1bd6f378ef5b9a70be47ad89d71f983ecf6a1444915e8445b948'
        'c4e0c061935b7f9388c81fa568053ecbb7678304c3dfa22dbc00fc1e617134bd34d6920ac8dcc2ccb15cf2adec07e0fb45d31d334aead07f760a2c5cd3b4a60f'
        '0f407f64b806e2ac0148cf54e6bf532c0e249097b233ffb931ecfe090b89606d78535ad2d3deb6007cf88368964a8e0d374968f070999479184d9d7e6ab53413'
        '3ade61237bc451238daf712df1bcf34609847173177a9acc6eb1a9021febf0f62d017e02c02522265c3f0f9947d7e21b4329847cffacd5c3994758fdd27a9229'
        '4b70b96e4c2cb781c1787faf06373c73b984823aad564b9e3306e241e5fb6d6b876990083f10feadda99c251d6056b596fb26cf648556aec95ce3aa904a7d80d'
        '6003bca7bc2683bba76ac52b21f661bd8f06a3e4ebf2b438c182f27c4277e03d484ef51caf17838ca7e94edb1bad6860d1348f11d1c5b96082b1bdaab752960a'
        'b8026e9ae00753a2f5efd9b8f49d2ff8ea88c7df1d090c92155ec6b749c5ec0fc03348175fb5ef88a664b8f77985f220eb13cd98fd8c658997cd6b12441a5e84'
        '8e9edcf54e73a29ed3cf6853757d17974d814ee0edf41f73b2235f26eca67d9fbb7ac2c921d87339308f34d7283cdd64a43e442905e27be6259b0bf383485d4a'
        '923dad10a896354829d77ab6d7be0a26c6be0b2c1d1d2b7403399085d24a72d1587736a29a6ae31dc7112a872a21b83a43aabf36ac1d7994c74407aa63679f42'
        '631cdcca476fb9db8c831f44b0e5ba03126bdda1f5ad774947c160b61386b2e5d811c8f638b8d1e44a4fc45ffca364aaf9a83a3a8fb530ef913c3e410b952559'
        'e550b1fa02adc5acebbe6c241366616a0b10f9350ba0264d9a439ebe2c5598fc77b01e4c09c10fbf2518e1a594a4a98182c87a2b37309ffe6d53355092de6ade'
        'e68ce1ff2517386d6e2e6b474a839f7ab2a750619cc847927b219e1c33a794ce7aaf048da7ad9151339409fa1c9c616b31c63e5d0fb58cc0f06d0f6366400358'
        '23bfc30a79065dc012fa56a206b84624be351a614de8088646c8387173f95f91451e4efd1bf728c5e23653f4ff39ab7299d515b3127f0ad485268443b9d1497c'
        '00a10ef89f6dcc42e66e339b924f51c6b0c39e558cece59ae2f47f1ee0fb40b299d5a0422718b524c6ae80dbdeb77cfcbcb946507716938ebaa2e44256b53c70'
        'f4f25a8fc7d484847302705a2d7a23195ddb0b814ee0f4919cf6cf1f75f4f92208571a694ec2a68731562d5282b0600fbebc8b72d8b9b932939155699d36a55a'
        '875608ea9a82f97ea7d14b75b8494a95b5e8743d4eec42b4140905ac3261747478753cc1ba6d3f977db3a2b3f27730646fd6357a47b584fea861710e0195f88d'
        '1a53ebbfdf2b24006231914d8015ff67e42b1fac954e43491eb3e805c5024eae6db77b877ae291d209223fefca865ffb4e1f02674f8cffe1743a611ba560034a'
        '616f1cdc12ca12f50492f28e51c7c92efbf25b10b9220bed9c2a56cb98d0276af8cc013f90dbfb58f659995ed629b7159d67caa1ad76893904ddf322e7820757'
        '39e3373383430c757413f41ba7bea779fa4f9a31cf6cb1e36ff314c1ca3d452adae5ed7caf414b7660682cbc068070173faa5b6236b56a059d299a07660c1904'
        '80f13827b4e340573eee5cb863e799a50fac381c90e0a1a516e358db128270cc42738439fd00e5709003a79bdd8d53fb55a02e80a5de27c679219e31fc5711d3'
        '41a107f72218e2e46107af70bfc51d737f5330cc5beabefc1002e4e5bbf64df43ce3600c136b948980053280d0e10bf48fc866817717b1d4e5a262fc0639843b'
        '5797eb038afec94575f5cf54ab2ceb5f1e08f74308b20eceb22548790c61d8bac857ee796fab9b1a283d8482026bd641ab5dc359c8df5a9fb334562b729a6d63')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    fontname=$(echo $fontname | sed -e 's|iosevka|Iosevka|' -e 's|-aile|Aile|' -e 's|-curly|Curly|' -e 's|-slab|Slab|' -e 's|-etoile|Etoile|' -e 's|-ss|SS|')
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" != "${pkgbase}" ]]; then
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done

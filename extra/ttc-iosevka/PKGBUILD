# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=27.2.0
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('custom:OFL')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-aile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-curly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-curly-slab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-etoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-slab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/${pkgbase}-ss18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('964730fcc65a8f944de1e9d94ec32d9ede7f68e05cafa9a4d546a7deee69c2244a3bc27f2a34acea38dfdf126afd43b2e92939edcc46bef861e9720cc3556c9b'
        'eadea2281b2ac0e339232b19dd1a0a8f1dd6d145c8a4da7dd25a53bb7713e87f43d5171a5335d48812705101e11fe3305f3ef1f7c2986a966c9a8ec6fead3d16'
        '47622c4817fa8bd23f1ccdd596166a5dc1568b658140c89ef7ae4d6dc041e233bed08b8f95f475e2c53f0a44cf2472eb88a636d8fe0072f841f19cf71d660da3'
        'bc167c94b1720881bb928a671c49898a6ce04f60c9fd167ebee21dbeb9456920f0dd84ae505d16cdc63a8a50eb87a6f18a98944935d83d8b9ed0943a2b71e223'
        'b9842a642b95378ac80de27cd321ad5345f313b061a1af911663e39b5a64afd574bcd328797ee4444282d58165c693758512562cd4a69e368b3d4c50ba4ebbc6'
        'fdb9c7859e41c13649af1a92cafbb1a908a099b74c2de62502689aaab3d363f4bd0c8c99994582dab0711f0403627f2fbcaadf4490f73da0b8232d9adda3d8ea'
        '25a42e0b092de7097e2a9f4055c9847517b50c2e2161615f96e2180e78c2e468fe01a7f0b1868da868d690e365cc01c9084981f832701b007d29c0f5fd27133d'
        '148f6139d18e7d3c075919816328b341e154c5f9005c67f677f57f28181d7255c75df8732e4c0bfc2ab4b6b43d423c4793241dceec757c594b9fd9440bd0fd26'
        '60e5726473b68b3068976881292bf7d489ff55c50c6d60e5e8126d564b767c11ca57a3e4ec4584e84032b64272f099cd56a23b2fcaf4cc2ef09491637147ae21'
        '4057b53b15541d363168a23a2ca9b1def8628a8c7b9e46349f83cbf1b854c9454412f9d8d461771548d9429e46001fb735ef5beb48205f2e0bac462e9309a3df'
        'b630fb5c237c83a8bd87d7e24c1d8af8d1a805cfebc161922611ab5d806b973a31e3bf906409e31f399d7f11255e5b9dc7ecaa0539942deebb96e4135c87b82a'
        '9319c8fdd9c7c2c4f67439939e126092024d7f56024c937ce2a190f1f38c98772ed26cce695bde031b4cd7acba318a9745411c5ea74388a83c737921638af2ad'
        'e9ff69450048303a819216eacd222c2eba480cd1746609a49caea372c7917521e318316786098c8e341d76becc3d0b300f5d32cb1f63f7cac811f75768fe94c1'
        '10adf99539c36bb2254491885ff00edfb5f6c46b09de25340c8f852a0b2630bee8fa1d3fe7b5f64e5a71394d7909915e376fd0f8e00d45d2a084981305c77bbb'
        '3691f3905e7695204434ae998c5f703a7d72fccbbbb1ea064d26990950cda41a8dee247987845545e2bfacfc4adb3880c5818af70a2d8b282cedc66611fe125d'
        '5bc30c4239e34f2031e25b224c629b662c1a40d26284db97321f705ea7292f9e9adaa7a0cdcb20502f8519942fa4ffed91c5550ce73d5d3d43b749df23dad8ef'
        'f03bc24e9dc51b3475e884ca46e5eb0d7851e56f40cac3eeb1ca5490ed8c09fbbc67ad88c769917c83ec226b71742a54b7bbf8da6b614991810f9f539ff4941a'
        '465c959c739e15a88eb43ed979431e2b58100d4b663983e6fbd6e4761a7b40018983a1395235d53eceef80d7ad8cbb3833505e18632efd619476cf3116bee22d'
        'f23bbe5f0c5118fc058f14f823ef8c35b09a9f06091923a76d698947595c3e1e3e1cdf4bda14308407a477496d8ddadc16052b5dd21ed2dca54bd065787c36e2'
        '8d7405d1a126ce6e06df52c7d63c6eb074fd38f9b31759d93f2d35b2c07ffc68ca84eff8aa9cbf193f457c201b2a148f80d3115fef0db6b2ba77f8bafbbe8feb'
        'e20a0df354af5864e4a8a9eb5d92725f1a1ad1ff07b55c9ea8724f5263ab74bce8819419469598b0ce25a4441bc32ca4931b15f540e2afc92e560bf07026f488'
        '5ec1d98afc744b5063a8e98ce48a4d4ecb9c7a4c1f854f6fd078f9e989fda72caa443c9b561540b0e56cae6d71b06e7d931910a250da8e0b3273be1b65c5e154'
        'b38bfe909de9824ed6f092c5ee361f899a68eb5364995a204f671b56e5c815ef065539b7f2e5f90059a53db6f24b88ba5245a834c2118c6719709d1d6333adf8'
        'd47b8f88db1d348ca10d7e142606f1e3a887e32c29807ca05e411366a6afe65690e891354aa50c2c3a820481a96880691333745244284c799b81343adc665f59'
        'c8d1b8e38801d7c1645eb250bc36922b7286b60d96be99f0bed2ce82939d299b343cca4a5767d2c1a1f11226326009828b49a11ce0ced9682af53e44a8afbc28')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" == "${pkgbase}" ]]; then
        rm -rf "${pkgdir}/usr/share/fonts/TTF"/*{aile,curly,etoile,slab,ss}*
    else
        if [[ "${pkgnm}" == "${pkgbase}-curly" ]]; then
            rm -rf "${pkgdir}/usr/share/fonts/TTF"/*curly-slab*
        fi
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done

# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=30.1.1
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('custom:OFL')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-Iosevka-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaAile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurlySlab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaEtoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSlab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('dfad9e8e346a388d43da9e3b1fc73c5d273c60fd27d305d7e73abbadd98f4ec95a21a4d07c04da4191c009c0c192bb1d198795a7dabca502b467dea71f8c1215'
        'edebd6040a2725a571c52c6b7b7e98a1e60bd4195fb190b81081df04f4e6ed39c7340e9a93a714cccbb421935c7c4f6b9cdc095288c6a0d9bcc556e5f426210a'
        '6605adf7048cfa4262aa5b87e292ac921b1906f11e937a97184c462fcd84e8be65d1c716b252f9808dc3ed5c5e77087d3621781aee050b5e0ddbe8a03d46f1f9'
        'cd0f0c5567325ed2b74d2c1eec34c7a8147cf45dd2de3d2e49bd22d0e38c6b9a2e99f158bfd4e2be310fd81282969ed38236a8090f348c2840e01e5a51959622'
        'fa0b2e72f166641c96c87ae9b5032be9b5705953741cd75ae36b694299f8b13e7aad58f80abb83f51e4668698a251c955e29667f091ff2a03ed95e2fd928ad40'
        '2111900be4f81d807b251aa964ee03548f460f9db5af42deb8644ed7d5327d35367daca37b3d8f45da393d75763151fb19ea92d6ac723af24c6d1ff964edfd9c'
        '2d1e3c01a18833c6563f259e7bbbd08991a637ee85bba14c046dfa825c39e68153b391abb78adae2477fb0b24a77e81152776e539d6d247c5c35fd2d01449bd0'
        'dbc537f2e3f3bdd62fe28793836d05e77e1cfd58ebecc7cea7549d700ac364add7f7be27e70e79204dc3a14949dc391b6abd6d4c4eb7085d04f5c9a5d616db53'
        '3c00d8c25276f84d470981bd07675d61706a6a9e36e4559a4146987687c2123c50e7936d2e69f99ac07b1b3094165bbf4e9f93d0030621da004c28372a78ec83'
        '27e5430d2705aeb9f44d1f00e4d298eb04ac25b112d3e5202347bab476b324ddb614ce43c2f2f8f4f452164b94c4a89b56c0c539ce069627f191d5c0333d2987'
        'e470e77af4e487be32063e47ab809050f8723e5b616f64f43153f90901b326ec5c533e87908dab2205f411de2a5d71b33281a2dd482faa80f03a6908b7d6cd92'
        'bb1ecb778f915dae3f84cf49cba0d654fc1707c7b3745bd67e80aca7f2d82ec95026432830e830ba19c6ffe4adf03f3a182b8cdf2ecc5188787322349cd48634'
        '2eca8a4010220fe891f825535f25d4fb94ebeea2a0d0d731abe9d9f35364a274e5b8eaa2970a1748af2d20f17e8cf3972872c0a817bdb53f3d1ed7a70cbd8715'
        'cac0e27108ad0bb2660d48965304c1170157ecfea236fc56031480edb5d93b41edfe17d06699636155b7233580bcbcc9f729b0598b4a2c4b7abbe0ada598a837'
        'a8d18e67213463fca0ae35850bb671942c56184b49007bc006b791fa7f80983dcbae91c41e43627acc3b8d66e9f03114e4c5db8842d65859c278873b923c55b9'
        '1f682c2bf871a4971b052d2959921f78b3c2a9fb74c0eed23be72ab801abfe5eb9d233b6f764b6f241c934d55feec97dbd90e66ac72a65013cac780444a159a7'
        'ae553a9afa82647bc533a7ad386ae2f38561f00aef024adb6ab7297c815a79f9dcc326730a6bad8b7909163ad3ea362ef602c0b1d830ea5704999519ea77c98b'
        '6abbd7a06750981ee00dc8723be13ef9937447390f19a0dde27a7744dfa5c151121e3c2cc10bea0a77debab51fad8988826f77beeaabbd1eeecee4e00828b03c'
        'a6d2e7b4104dbff37135a08a76dd88597ddde4d27f0ab0dfa02e2db085a249db75d0873937404217faf19780497c69c7ed236666d039937eb51de724faa44f11'
        '8359ef3f567d08b1224cac903413da437c3073b5441d2ba3c956168c1799e4166c2c1326ac5e42866a5b37ebab7f91236a877aeaf88966284cd3ff2fad531c4a'
        '60c9b7d8005b9dee375521fd283f3cbe364ffeb7cc74cb4d121ec86f7b56d60a4a5000bde4d03d3a0883119ebd04e068c283fa793d9cfb32b2b680924b88be6a'
        '32728ad49ea9443abfd9a9b69650e7568317636725c820c6703ca234e521025f5d2b16cd85766204160f53227665a05e172b20aef51d58b3bb3ef0667ae03598'
        'bd3abfc7ccb8bd32cc6af6fc81d92aa898b2e1c994856fc56d93e9716598478176dac9c835936c656a51ad4eaa40c8e7f12200ecc7b1297f181262e95144c0f8'
        'c972d3090832746e8ec07b890b4f1b26925152cbf64aee8f4cb41bda79097adbe791958f17dda9b0f7dc62ab36fcfcea4cb0c056da7423b829b8feaa3e7a4b84'
        '5797eb038afec94575f5cf54ab2ceb5f1e08f74308b20eceb22548790c61d8bac857ee796fab9b1a283d8482026bd641ab5dc359c8df5a9fb334562b729a6d63')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    fontname=$(echo $fontname | sed -e 's|iosevka|Iosevka|' -e 's|-aile|Aile|' -e 's|-curly|Curly|' -e 's|-slab|Slab|' -e 's|-etoile|Etoile|' -e 's|-ss|SS|')
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" != "${pkgbase}" ]]; then
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done

# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=32.2.1
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('OFL-1.1-RFN')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-Iosevka-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaAile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurlySlab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaEtoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSlab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('178193f0a28a75b6540ff249b063c0d054a4fa1b5b5fb8ab5007bda8f353604baf9ff3346dafa8eaee3c91cb0e98b9eebf242fe5eb034ca759b9959c5d351da7'
        '87f265de510978a0f48b2abcc09c96b1026f07c1e5f1dccde684e619e3d8869412663a9dde68823e388e3a2601e0b6832aa2b7de7dafd4f7b441cc0d58f50f0d'
        'f5f4e8dbe1185d33581eb00cd296003a7092c93d6d0e54438f2a2688925bb206c955ca4609e3748db04149442d5aecff2bd43e082ef0396f16de947c107a8442'
        '6f3cc5e874e8c7ba6e9ec82480b68fd5d306307d846b0a1fbfd3cf6d7de4da37ef7dbe5ff4f7d1877872190705db2077d48f2483aa782acc22c5a855b1a7870f'
        '2d66810bdeb9a70f074e4fae463f09097da795a7988794e45b5bff987e31a71c0028a0c1851576b06a06a1ba984b51944384544f3d16afa934b2fb211ce07f6e'
        '27c204916fa30800d06e63a153e6f8a066d698b46c2588ef147278386a3a46d55e117225a754489314d82204995f40590d41e9ac1cbae0a71f33cea743d70264'
        '94af7dba1f8374f547181232ac1a1275ff30176e64fee58aca7b08f8db95fee1531b7ad0c046eeeda759f9e2bbab7b9d4b0dda1f3691c04d46612b7c7485d3dd'
        '800546c9959da98c95fda1823744fce7df6fcf3b303d7d9634fb8cd58003779c9317e7e951eae2cd8493b171f9dd8d6c8d62a903349528c32af0913251547b26'
        'e7278ecafdf2e1c53335dcf0c466b95ba07e0cde815a652f4696a676cd2dc0659e2c02a1ecae963e714a790caba563a8f526c27ec1de01adb1d46df8f6912c45'
        '5c4f998d5980bed5522be9a51a7e9820910a64434de68518ca55a0de9d3b6dcf073554bb75c4206bcbd9ecb0a169a0411f6bbd3db612b86439a1a35a425b1ee6'
        '5ac301a1829f055d12f994fb7fcf1d9b14a2253ff65dc60c92af04378925aef9d6fee962608b85edfd8712ada3898f1118a3ffd5c3be2861c9cfe77cd00817a7'
        '933f1892e7e8fceca29f82b03acce3194d78f16b01eab80abde1954bedca1ba3bd4dcea263854278f5423ef8efc5f08ac7fcbc3d394cafe28624cbe6588dac48'
        '5da3cd4ce1ab69c8b3cf89ef585fd13769ce99ff54203fada0c12c2bd13fe895da081eaf4402d980674f9f022ceae1772777d26c7786a52aa412bca22a5a696c'
        'ab81dd23880cbac18032c6eaf861e02381b9776ddb727adf827284dbd5fc7a04be4a3bc057604f8bcd95ff70d2f90ae4777349baf0e29f26b8d3bdd21e57eae1'
        'ea129f0d49a3b1314bb80ebcb891301eaa3a98d45dc17718a43b5c3bd61cd02876cc325629db4014e505e580f9c691a5aa614d8a4148b284b91612b9ccd813d2'
        'd5cbb969839ccf15ee3b1304fec4d31a4652c3c4779c7d6811deab3708f9d252baea4735cdbaaecadd4a8df59506c70bb88cf3f6102996bb4220cc6b70f47595'
        '18616938b216787d25f02be7ee937ad3e00d7ee0c4fae8d7a33835cae6d22af3cec9c5611a9e05af4b6a56bf8c3e84ac22462906b81c55a866eb7ceedcc6b1e7'
        '068366f286c98768ed9ef8a7821d5b098decd9e674c100eeff1b0800ae6ae07de4f0d9c4e8cc0dd3e209f38732e89efe031b736a86f047d2ac041466a59ac03f'
        '0cbd7c0a649d87f07286a8dc5e11ca6c85bcbed9e7e9be1dafe17babf686d45fca8a42eee7cc4620b1f43c45b3c8bd5004b07bd4c447aa378daa54c4f68b301a'
        '796ecf70c976b44435bce1085e252f3f5f9027400e6dc5227165bd993823f68f64297034810d02aa25d8b2da02097f5005d17b38d8be7639d7309b0f0fb60f37'
        'ae66fe79defaf6515ef1cdd36c63387c2c22f9c4c7f2e772961140885047e60c21c9389488cdd34457c90f035431f047edbad6fd18692473dfb09cdf3b869bee'
        '5ac856e4e696c41a181509cd52bad8b727422dea39d85b5b428c2c7e6079c024f0f6bcf12e0a837b349753d27cd86594ca4ce6362ef9c11810e7226d4d541056'
        '8ccec888ceaf5b6beddd0d08ed63f06dc1f61c61506e9fd4417263f09e239664e7d3edcc86bfeaf4bdc2c0c0664cfbda3227f550714d58f68c311b292516d0d4'
        'a9f240ebe5e4b52c63c189d2207d16939fa701281fb4231843527f3e53afa8fb02897cdf57ea91528f93a242df2946bc0171287c3a38dd7f078241582fe2ef4f'
        '5797eb038afec94575f5cf54ab2ceb5f1e08f74308b20eceb22548790c61d8bac857ee796fab9b1a283d8482026bd641ab5dc359c8df5a9fb334562b729a6d63')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    fontname=$(echo $fontname | sed -e 's|iosevka|Iosevka|' -e 's|-aile|Aile|' -e 's|-curly|Curly|' -e 's|-slab|Slab|' -e 's|-etoile|Etoile|' -e 's|-ss|SS|')
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" != "${pkgbase}" ]]; then
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done

# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=29.2.1
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('custom:OFL')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-Iosevka-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaAile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurlySlab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaEtoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSlab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('8750202803a7933135a02d2021f2b1e9c0adec12e30bf628b07bb65c91e194a862f8a9571d9988bafe39dd672efc6b93b4742b982c8547abb935b3f88bbaf942'
        'f3b3a5db4e402473f9ace74047629c706590a3ed161764eb55641bbbb9c1afe743ed36665b900b55b171d153af284ddfe0447340f8b891af796029b5c2fe5174'
        '13f0c339793b2dfe1ab39008634d9b77da8f9d6c86e21e9ef07d1c3a7acab37947b3e61d3c79a0ac181170e6e000055f57943b32d44cf38c2bf9eec12301b6c0'
        '0ebb3279a631b47b9e90c47bc4007dd1132ee52444d40cf58b8f4553be7612968e4c7c10acaf09c8f6a29afae1ff392cdc634d2b4153917326a499fc131a9980'
        'a3f9508a2ab1fa6406bb5cfd29db3d3ad2f7e3801b96dcf2290357a86ca53161fd1fe866dc84cee74ef1502cbc923c88ab9244d6fb5ad2df3e0929a0436ae2a3'
        '0e60fb51a238c0201c0d9196c6bff307ecb575564c83e71879efbffd1d2e5d3f62da2dfa8a6dd5047927ced709813f4278a4b30909dccdfc62aa8cf6955eff37'
        '975f98ca53ccaa87ce13b19312d8627b469138f8adc4ed1caf5f1e0aabad5b39908034103af6f0541955c330d21552440c95ccb73df6c22ba8dc64199d80cabb'
        '871d84fc741fa5fa2ca62f7c6f07affe8fede79e25889045212446b34ce9b9f99aa8048bfbcdfa012d7a988c6b9319ba91a2b3faf6c6b51a360b9a9922b194df'
        'b87c1292e1d9017f22646e0dfd101cb3fdd1dbaf791a155e0e16ff87caa56f37fafd3eadaff58e4d2abc1f3577cf106f5dfbf42825d4fa16417ea3f10bbac577'
        'e553e545b5aad7a287a86d64f3fe1d328187033daab82860875baf1a6b9d387466ed46060ba7617dc5817074a3085cb68abe131514b1fb448f88234579e315f7'
        '4f7133772915a1c1248ff781788d467095e7703dec8b5cedc2c3a0d9e3dd718d78b57e57966f37cc088dc3dfdec3b8417a7950711ddbf17c21f9e930ed309348'
        '06e26cb1ebfd20604926e81808e3ad1a03f935f0a87ff701d1e0c71f30efbf5d082bfde38d1289934e4808a8eae4b10b8d2916c9a3648cf0c1fa715002e2dc53'
        '3bc908bf7c3c88947c2e8d181e64671bf9469ed856dfbc9e2a36dd7f7919565744480b9a87593ab734bad733ef00e5843d5f42bd27926bd033059be70c5ed3b5'
        '7e6018853c55b75fe2e38e56b50de756447214b1eb231fed0094a438aede38cd429c2f32bc98a7e2221e50161cb2bfb3e05d4f2a4212acd5051eb1697fc2df4d'
        '98957f59a36856c839270cbf75064dbbe22fa03d982c0d35970cb9a21d7183d0c5011c977ea49a1ff54f7c6f40bd94a7edea6bc761d5520514417339d2a28848'
        '600a215f30e5b8979707bf07ad6c1765a9e77b6e1ab284fc751262630c87eb99fef73122c8871b1623abcd3957364ac9b781347733c16e48128ae4653964a06b'
        '7ac5d7416769a6ac5cbf9cb0d1e0b00c00d039a80f039ca14c3a3171cfab7bfb97359af751b87455afa622b198bbcf5fe78cd83394a762ec938ad9dd819bed0e'
        '968bfc9f5b631da734d08393ad8ed94a7c627bb18debab9f7d96290badafea0aab95abc582f67e5cacb84dca71b1a2dbb845d44cee3dcb24c9499a14f3a0181c'
        '12ffa54ef6d24522a8bf3cfaadcf9cf53f0048451ece70269af2d0d0eddf23b3408144aaa295dc69c171c6afd52e88553062857e9c52774c3f685c1c423705c5'
        'e49bee36e0a78f3be04f283c6124f036d689631d0d3052b0b326541ec93bc6b74be88eca50c1038f3ab4c8871082674976bf8c5d5255e100e12576c775ea6595'
        'acf4ebe28d6d55f7963d1b5efba06c242d9a9b03b7907d82110115a276f2ea7d35900dc9453cd2374b2fd39cd7fb0d721f60121221a2b7c8d786003bc46a3698'
        'b1752315eab2f103342d1a3891703ecf26b98fc7f7956840c06dc0dd1237d60281ad09a415f39159613c8803b6a3ae3573f0154f48c9b669d39b35c3be46315c'
        '792a8de1158746c4f77dde23ac29ba21ca956a8865f4efaf6916e3a25f1d47a1923e572a140d1d0aeb3de81b68d264f6b6d1bc38a6badec06d52d2073e003925'
        'c541559cfc0ca297c0d98fc9e1f41e3dbf1382a8896c99a72731597a8a04cb9d7107522b207ffbf252fb2ee8fde45dd1784d17be84aa8ae21125a5202af773b2'
        '5797eb038afec94575f5cf54ab2ceb5f1e08f74308b20eceb22548790c61d8bac857ee796fab9b1a283d8482026bd641ab5dc359c8df5a9fb334562b729a6d63')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    fontname=$(echo $fontname | sed -e 's|iosevka|Iosevka|' -e 's|-aile|Aile|' -e 's|-curly|Curly|' -e 's|-slab|Slab|' -e 's|-etoile|Etoile|' -e 's|-ss|SS|')
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" != "${pkgbase}" ]]; then
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done

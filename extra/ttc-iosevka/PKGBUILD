# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=29.0.5
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('custom:OFL')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-Iosevka-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaAile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurlySlab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaEtoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSlab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('04badf217ccf679b392ef06a2d30809d01153b4f0b2c060270c6143c09ebea6e9253a3fc3dc932318027f4d2c8ae016edcd587a09381d0b8dd0b336cfa582905'
        '3652b6a7cc91dccd9a94b4683775190a81e43234f81d9b548774f49856279ac1ab568f6743407c3c623f242d0edc439db4ceb343c4cf938b3663e547531bb378'
        'c662453909c6396d648e4f41c43b6d9edfbbd78c83f9ccaa8c87024148d4784b7e88bc0862fb94f81fd5b03109c569454cb37efd471f97b7e4c9e04958496b94'
        '3907c089b808e75e4479fbd2f1241eda3ff33bbb06bdd584c5fc46d520dcbf21693d7452c7ebd2efd0dd062b8cd640877519e9e1cda2b8a42159e710ab9eca0d'
        'a7a60e081811c55c2c4d7b17e2566f494d786c3416f4780822de556e506d6c9d2fafeb2766b6c77b4353049236da53a24e1c9e03bc5ae8b267f466f8a36082c3'
        '79a2e69ba1898028cd85fca91a2567e351a8b4c281d4500b2df23102a8b4119d0a21c672b6ff94b162164776c02acec50f60c4c88017e13c07779771e5cea641'
        '4d5c77d3eaf6db4651769790adb2ed8c67abfdd29333193feb5a7a85a39a3f3d99bdc8a8bea51c1f2ca555dc9c9e5c234c08c224d8dd91dff4c519043a3a72c6'
        '5302c3988dfe63cd14d59c3a0f94cd483bd2dd453d5f82be55c778ca072a468f9a3bf1d80cb811164e9494932b15d7579f00596432f41f039069c43a0a500f9e'
        'f3cdfd9f1443b3c412fcd66522371d538b8c3aff00850684e89e32f812297e96cfc1154758955aec5835d6aa4ee9b78b23e83090dfec9f9599db4b9cd54d3b32'
        '5bee2de8d60ef4f7a70492a1b1e00e48849a081260361481e139caf43ec5ab9d0d015c847b32c486faf2ec6522df2113fb0ac6b63ddc87815d5629c360c2e599'
        '7c719d12752df45109795a5d5f19b1c27c65f7ab541c8ccd275d6a014afa2b3e36e38c804ce8a680e7ddff0bdd11440841625068198739f7d2f04d05ba7af911'
        '0b87f883f586a6c7647d54ea9e57d7c3671cea727edd27212253706f4befb95d0d667d1f568584217776c6aa043891f9f9b23015f4d1ba5ae1e5983aeba9d20c'
        '5c46d4481d40d322b27382cd77575b4bd6dddf879b4e0370f22798fdd1d20dfed0520a9b04be8a93cb17506c6ef2c0d658e5498a6fee29e0bc81a706dc56709e'
        '328555cbd4dd681ccf92e3f275d1ca8c7f7487669291cfd06626791228750a7414189237c0255ee2bae6ca6ac1f417c0b43628ab892295acb95d9d9522d60369'
        'd0663772218b0dfafc8f051ff29cecc1a10504df30d4adb05f4772cde1c08e42a1e75b3b0f84e0f790dfe361ef2a3d0b56aa22364a5eab852da13601e95bab8f'
        '29d082afd8f6c7b2d08c9fb2177460e281c2cc02a088bbb0e1c8838df8f9847b727bfdd1666bd414714b16bd455e4f687a54792571e7c15e9deab36aa7409a7e'
        'f4381f217813c3439c1918efbfde24cb90b8168f94a56c7221f3d58ea819e9c80ff75feb595c22cc60a2ebd454413bb5dc84384d66824b5342286a1790192c87'
        '8cc445aa3a51b9d83a945a83d8210b6046951e937f88b37fdc0c2b9c107774e4928cc2aa581ef4c05cb0052267a8555224c811b3b3236b9bb3395553cd5411cc'
        'c4da4017e96d40270f9031e0f98fe26c24cbf1da53ae3bfc923f1ad8f5d61883cabd7bdd24377594c67fe83c4e08622eb761ffac341bbb2bace0357f7007a266'
        'cab53916288dc6b03bd1a6a844d92c5540f1a3bb76b73d56c816b1cf5b7c550047a15d66a14130bf982893ea98807311d1d1bc9e6d8ac7bc96023d725c8f3999'
        '3ec5d6212cffa86fec4ab2683a83f0854ca3ae7fdc4ec7dda13e41343576a47ee1db0c92236d1c764c2772d1c2aef2c476f9a9837f2cb65e5bca42d92bfbf9b9'
        '4bd3d1a0c862556c672ca48100c55bfd8694d0c313ad2ab8bdf5d990dc97b762f6ad94c8590579bbbf2a142d5efbcacc4649eae563090a92f4eca7c4c4815ca5'
        'b0f55018a12a0bcdd83cb5e50a52ee6dda27ec689f63acea48e9ac3eb730ecc0926639e2660bbd8635289f63246711de9af219ba2223d3f79ea0491e463b2c4f'
        'ee559879cc13aa5106835ad6b674f6f6d489abddfe9e922fb073b8e7640fe62b719abdc6effe43ea0f245fd293c421d1b4cfffaff2137bc2ba2a7272e5edf213'
        '5797eb038afec94575f5cf54ab2ceb5f1e08f74308b20eceb22548790c61d8bac857ee796fab9b1a283d8482026bd641ab5dc359c8df5a9fb334562b729a6d63')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    fontname=$(echo $fontname | sed -e 's|iosevka|Iosevka|' -e 's|-aile|Aile|' -e 's|-curly|Curly|' -e 's|-slab|Slab|' -e 's|-etoile|Etoile|' -e 's|-ss|SS|')
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" != "${pkgbase}" ]]; then
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done

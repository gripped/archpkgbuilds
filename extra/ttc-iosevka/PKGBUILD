# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=31.9.0
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('OFL-1.1-RFN')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-Iosevka-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaAile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurlySlab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaEtoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSlab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('1b5d37ae0c4a0e3e324fc577ce7b22bfaa2bcc0c8e63efe7300ac87fdf2654abc4e80a3eb1635344e6fd60c23f62f3ee76498ef5bfa7fa218bcff16d6e1c4914'
        'c656aa9cfef68fd12a1b6c7bef4be36429b619912f0e635fcbb10251082ff3e422a48d824ccbba90c2c1aa92de2e46f3162e9741ecb4cd12c8c6656befbf0c79'
        'b6d589a11863854cadb6deb780d181588d8e0319b2a45d9e7757c3287a1cc3b8d298592e383287695c84ffe5b5c1250f1f77dd0c5eeaf2bb9a1498c939885615'
        '8e8f3ab49ad497e9c14cf49eb20fdb11e57a93c54ebce322a28bffb272ae73d4cd566ceae2c2ce0dfb3126ded9120066487dbfb13d7a0970fe19b35ee19805dd'
        '3064dcc529ed1493b33de9413eebfc06605cef36a26de7e499f4e46a2e4f45e00a9fa3e1764b2fda1b37e5d25bc4a196e50ae48813568351bfefc72826041b8d'
        'db4e76f79327c6b5341fd1b098a7971e0a42a30fe4a47bb1235501d16af98ae104aebd144123d6c92d7f2f36114d78dc5d239de990e04d7f361f1168c1f3acf3'
        '4626d6e080d2cdd33e9cd68a736d8f48a9d6007c155e15a4cb6ceac6611de0a9878b86fd81b74ea814b770d537119b3d4ac2d2c1a793827af4f4975c5fa9c688'
        '720a47eda1d9af75b9d91c8bbb00b064a60c63cddf09ee4d40160627372e962f1710e85d190dac28a8e34842837aaab7e51c8245ed829cbaa101c9cd70b32779'
        '1d2d1ddd60d2168b0928ae62af3b2b36dc50cbe2e247f86f67a2f632c606946424f12b771082fd5b381d1924347fec5016c8e38a355db12f48e421ea4fe28382'
        '7b554d4c1f1807ef0944191b72a02e0402c20b0fa84d7d146fbe35cb3d7178b391f14bdf361d2f17f79e44a756d2a902f1f3331129b0adf2fb16c5e62dc26d02'
        '622bc69b4fb724e9aed7e864ac713fd6d62c34c9a5a98159dcbda2de97531e7cc0978619ac40edcd10266f87a5f6e6f9ee8f10f6618a6fbeca944011c687c730'
        '570a3966d0d3c0d7ef2a1b5fb9c395705affc0ad6a147c413aa4830c03a7c286ed1dc4139bb242812cef9e73ee010405721feadfbd3d99d132977a1fd3dbc8c1'
        'f7ee869e8073e669afbf0e6129fcfa917fd1107bc3f3dfd6cd470c47d912959e2932c77c20cb220a9b37b2152d8ac6fb77d1d53693b8424e9fe27f0a3d5778e4'
        'cf2810bdb98e828ecf4b1ff650803f6fde8d6fc11678b61d33fda2e62cbd344f71d98223cc6a0d829849de8123bb3cf22182a09047182a4ad566b51488b5b559'
        'c2eb40dbda50c387e4138e5ca0e5c07c8b80b680c450a2b9eb54476801cd959362773a364c14a4423b8f5577b44a16a4bd8b420be780db2cbdbc5857aba54c32'
        '90df5942b44af5a86fe62b85c73957d4f2dfe4719fd568ab9a4fe5f2d5694c93060911f37b65a1b7ec445c2a2cb0108c87bdeb96b24769c40ae4c7b93ff35732'
        '96f48e9f47cea070059daca76fe07e691f005b565d5f56871ec7d24b8e9556c1478ba699acc1c82c5be50166cb9dcb0120800f369a3c7f92099da3d8d60141d5'
        '73c39629307d0819a1ffd95dc3034c0b1fa79c77ec5b9661f5ad7f99f4f0ca46797f8777e8036e79d322d5faf1915431d739856ec3bdfe046f5664ac10f93d65'
        '7641308315c076cf99d05b1aaeee3b64a4a7274382dbb0270086bd7a5c894cf2ff3b1f0f05b34d75d34f1f384b96d171a0c2eb42fea92ec7156e41a99a5385c7'
        '62b51ec424706255e677df0a7cebb5e87044eaade5213041093adcd624cc42711a1c932ab423d0202e3a87d1933e022b4fab5082ea38d2947d1828c4690b1261'
        '9e078624ad24d74aeba88ac05c8e90ca7fe335472c2d7c9d472c49bd6adcb0dff634cb53dbaa002014cb2184295e595d3ed739da1b1a66ff8f61d8b1133af132'
        'ab0a92cd9f5377b8d550e2c031ca8c80a51bb127447751f73aa9c5cecd3371831d3ed15182afd7c9e6bc5ed37557b95bee615d81bd311675a9f9e816c0136069'
        'd999a94a3b0ea6dcf4c2c815ac5a774eb9cb9b430d832177b7a1e17102524ecf6b57d61cced82e3f7a7de1237f25b84898d3da097bfbc88cbb6cc78d87159dde'
        'd3714a9f89ea3869a0af772e960e59f32649cebd89bcf367b89d8603fbbd990b81ebe18205680a065872fa631f662047e0a00b7dc3fbf6d52f317e6cd9a6db3a'
        '5797eb038afec94575f5cf54ab2ceb5f1e08f74308b20eceb22548790c61d8bac857ee796fab9b1a283d8482026bd641ab5dc359c8df5a9fb334562b729a6d63')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    fontname=$(echo $fontname | sed -e 's|iosevka|Iosevka|' -e 's|-aile|Aile|' -e 's|-curly|Curly|' -e 's|-slab|Slab|' -e 's|-etoile|Etoile|' -e 's|-ss|SS|')
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" != "${pkgbase}" ]]; then
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done

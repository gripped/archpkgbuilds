# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=29.0.2
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('custom:OFL')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-Iosevka-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaAile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurlySlab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaEtoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSlab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('b552a420560f0070af548a8ab00b3da8b9c76f8db1265c1a310f2421e6b0d28eb8e820c02ad31ebcd78010280518a26f66eed73fc503df17a8e428660c7ec0dd'
        'd2e9c7a2f3de2b26756ec94dd0edbd8a1023c496b963eaf174d006414787f72ed49fec8174ccd973cffdf1374c6e265ce3d9e492e3566e4cfe83ced3c5d3de48'
        '61eb5af5ac322f9b4f4a521258784cab904029a6558743ee18aafb6dfb8b209ac6a0212bd1d6d4e838b2d65a21c106e1c83c70ca2859e211b649802541618a3a'
        '7c28973f04671f8440e78c6aa0d64a5aaa7980c91b69e46c5252463f99cd88931f863b46ea32fd7647a44f6948b4d7ea7572c211ec75f89bad7f8dc52ef08cd3'
        'b6abdd1bcdc22438392b7f135ba2f4003c1c4f9933e95e8c452ed2128fe886bcdeb82ed27a666ce400dacd1a0a775103cf76e25ecd8f6779421d0133b89550e2'
        'a1f96789c8a0b8091275ba29ff2672c86eaf06045edae1250470cba5e1897d4fd15ae1f2c9130bd8c58361e3b63bbd07c2642f207e3bebbabf5f9de6c0a1f53f'
        'ed9ff0ad019d63204720b7611e2b72bf4c806139a535b9f404cc8b04cbdb30d2ea0e31c14e87036e63f0e04e1139d748a9f7d7ca06e8e7359210b4353d2499bb'
        '529755aecdd8f28db00c96db29e24e9127561aacc28927ad797d631075276f5a763c7723c264b0dd431d115ab86205b956e230de8f8fe8c1cc04a4681089f8ac'
        'c4030fe65f9ec11ebd89698d5a0275a98181840c123bee41a8f0c62fa5226c6338fd3dd18d9c0a258569db6f732e7a8932a00467c5aeac1433feeab850415380'
        '082c4e3d3a102706271a6e68ceb1088ae8160cb090b706139e5c35ad727e5954d60d5c54fe79495723bd59f0913bb105e16be425e0c43420fa701aa06a143619'
        '94e5d7ad5d21a5dcca1c6a1e8ebacac9acb591c03cd058411d30d8b79682e425acfdf67c0d6926cfa880aca8205342852afecc03cb8b886174a036fe9c04ba84'
        'b194cbc98df6b8d03a6f002b818916ceee2aed92a15aa9d45f067b70bf700e3b1770cb99a70933e1eee98277da9be5c0718a6792ef1a515ec8cf105b04774e49'
        'f7ac406ce2bf75ac3f35c74b2b88898175e49184b12af35292562fdbc3f3367fe22d2d708457d90e1674fe5b1f17ac3a56130a7b94b72f7568926b129dd1826d'
        'a18ac22ff1866ddb3a661df1072553931cbf64bdb3e9db299342c8574e4acf39e0f2890fd4ab7921052b218096c69fe3535d4df8ffa642780bbeeea6ba6e0c53'
        'af1064d0458ad0d14389184272a1f3ec36db28fa7768e067e93c667254c50bf66c9f57229446af9d057203147c2996ca0c873698e4b291914e43c1851ae7d796'
        '714c7dee589a3635028a9cdd32ab7af8672eb857241f49fd1ed083250e1cb4088be74f87cf65a75bd98690346a470f8d97da961da3931882aa7e25b22b383685'
        'b63fa07d6f3d042b274260491252c5b6557c3e1bcdeaddb96a7d2bec4ab8e86cfc1da72112df042826cd74f0a7958642a7b8c4f279eb6aaeaf6bfc73333c1ac4'
        '01ec74c3390367367d6ca2bb4a1f2eb8cb08af31ecd0fe6ad635239be9e8d9dd4539d2a6ad95b1aa811a2b0696d7a4b174dbdc3b76bf293dd325c63a5c0e1472'
        '16abb379825fcef04d675bd76b473f3fa1be9716c49a57d2287bb8204c9f11bfe23573132018d15e34e9b1ad187817ccc62ea28c4240a2d809a7b0adf073dae8'
        'd0d5400350b29928e5de0f5e19d6de705083085280025c4e5dc76826177f6ab33e1cbef464f8568e09f2084b50711cd2e5141a748fc0d5aa6d1baf524c74961c'
        '673d28c812f5e92991daf9224f44c3a850ce567c0e63dee0bf98d2edf98462526998e3dc125cc9392b91ad1e0fdc0cefafd3b93d0d3f7f6076efd573b8ab63f4'
        '8e6a82031f8de15c1791690d6c1667fa10ac012fde5e93149fce9cad72b61f60565f37aeee063eb7cd728e5abf1a519d1cce441d9f63d0adf391fa3da3da5aa9'
        'a01060891a7af74474fa298ec3e1db438d22dc088bd81c47617c6c746ac3b4bdd1498027709008cfa1f871f622e82e78420fc792e46a69341750dbe1bf9f08ee'
        'f7c1bdf6cf9b2bae8259256721b7f7b3fa85553af413c46b5db144a640b00c1ddb74c745811a17af2464c3a7f75de4b1e3a8eec599ceaafc4c199d6c82c80d53'
        '5797eb038afec94575f5cf54ab2ceb5f1e08f74308b20eceb22548790c61d8bac857ee796fab9b1a283d8482026bd641ab5dc359c8df5a9fb334562b729a6d63')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    fontname=$(echo $fontname | sed -e 's|iosevka|Iosevka|' -e 's|-aile|Aile|' -e 's|-curly|Curly|' -e 's|-slab|Slab|' -e 's|-etoile|Etoile|' -e 's|-ss|SS|')
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" != "${pkgbase}" ]]; then
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done

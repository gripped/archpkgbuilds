# Maintainer: Konstantin Gizdov <arch at kge dot pw>
# Maintainer: T.J. Townsend <blakkheim@archlinux.org>
# Contributor: Markus Weimar <mail@markusweimar.de>

_pkgbase='iosevka'
_type='ttc'
pkgbase="${_type}-${_pkgbase}"
pkgname=(
    "${pkgbase}" "${pkgbase}-aile" "${pkgbase}-curly" "${pkgbase}-curly-slab" "${pkgbase}-etoile" "${pkgbase}-slab"
    "${pkgbase}-ss01" "${pkgbase}-ss02" "${pkgbase}-ss03" "${pkgbase}-ss04" "${pkgbase}-ss05" "${pkgbase}-ss06"
    "${pkgbase}-ss07" "${pkgbase}-ss08" "${pkgbase}-ss09" "${pkgbase}-ss10" "${pkgbase}-ss11" "${pkgbase}-ss12"
    "${pkgbase}-ss13" "${pkgbase}-ss14" "${pkgbase}-ss15" "${pkgbase}-ss16" "${pkgbase}-ss17" "${pkgbase}-ss18"
    )
pkgver=32.1.0
pkgrel=1
pkgdesc='Typeface family designed for coding, terminal use and technical documents.'
arch=('any')
url='https://typeof.net/Iosevka/'
license=('OFL-1.1-RFN')
source=("${pkgbase}-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-Iosevka-${pkgver}.zip"
        "${pkgbase}-aile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaAile-${pkgver}.zip"
        "${pkgbase}-curly-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurly-${pkgver}.zip"
        "${pkgbase}-curly-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaCurlySlab-${pkgver}.zip"
        "${pkgbase}-etoile-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaEtoile-${pkgver}.zip"
        "${pkgbase}-slab-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSlab-${pkgver}.zip"
        "${pkgbase}-ss01-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS01-${pkgver}.zip"
        "${pkgbase}-ss02-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS02-${pkgver}.zip"
        "${pkgbase}-ss03-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS03-${pkgver}.zip"
        "${pkgbase}-ss04-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS04-${pkgver}.zip"
        "${pkgbase}-ss05-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS05-${pkgver}.zip"
        "${pkgbase}-ss06-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS06-${pkgver}.zip"
        "${pkgbase}-ss07-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS07-${pkgver}.zip"
        "${pkgbase}-ss08-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS08-${pkgver}.zip"
        "${pkgbase}-ss09-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS09-${pkgver}.zip"
        "${pkgbase}-ss10-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS10-${pkgver}.zip"
        "${pkgbase}-ss11-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS11-${pkgver}.zip"
        "${pkgbase}-ss12-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS12-${pkgver}.zip"
        "${pkgbase}-ss13-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS13-${pkgver}.zip"
        "${pkgbase}-ss14-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS14-${pkgver}.zip"
        "${pkgbase}-ss15-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS15-${pkgver}.zip"
        "${pkgbase}-ss16-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS16-${pkgver}.zip"
        "${pkgbase}-ss17-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS17-${pkgver}.zip"
        "${pkgbase}-ss18-${pkgver}.zip::https://github.com/be5invis/Iosevka/releases/download/v${pkgver}/PkgTTC-IosevkaSS18-${pkgver}.zip"
        "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md::https://raw.githubusercontent.com/be5invis/Iosevka/v${pkgver}/LICENSE.md")
b2sums=('63ccee87d5de751da7eb97fd5ed7bf3c62d02325ec3de2b14fbb2c257a6e1b47051559ca3a628fb7e2de26465be1dd72bbfad49d63c31ad9269b8698a599d346'
        '04e92115a7cbc3d38f08672c001aec003acba9290292ffcca48a70411dcfb7f999a01c8ff54a49db560d920fad9a46cbc547739592442d91929cd3fb53402b21'
        'ebae807c80893d4777998e7f00e5f3f254f8864f76b3bf6bbe1dba265e0dd0b3551bd2d0ed4059b1a35c182686335353205f6dc20c8186b542147926d45f2178'
        '45caa4adabcd6be3c7d455ad3259ab0a3930684b6858395dee790bc9d5c59f8f6387bb3cfed119a3d3eb3dccdecb406a6a6140617c86db058897e92f05296536'
        'b8ccc585ea4e8b1849063ef02c249fac8f1a5de223c3f08a5b62d8dcafd41449b7c3d10a5163e75623c125f0279e1d20ad92a26e24e6e17eeef0ab14436af861'
        'f71bd52ae5f7b350b137023204b426e3ef9258a2653c97acb1b5b413e68ea23d54927b904274b801b4f6ed24a46fa35e217a5a047c2b4828bd1a472f059a00f9'
        '6c46f621512945ba9fe0876e12d9ca342d3cfae081ecc496e55e0b0cd468125135ea49c15cda9d323cca22051f5650532eac6c7dc48ef6f09973f771cd6d0496'
        '798183cbe09a20b7738600896f8dd302bac81fa1e4f9cec2b29ced3c68f54f79fa9f1bad40de8f9c9485188ed91aac36e4343b6a0c38b38ae61c509d45d0f9bd'
        '6b010e40bf5c2fe847fc83b0eef96931959346ec6f62df0916799ed25147ba6ea37ac556cecc67fabba5cfc5429c508f5404b34852824bdb505588dd56f74c7f'
        '92baa46eeca249f278ebbb597a6b08704c4c6ce74402fcacd3797f576bf00a3f4c743de601deed1ff219b45f6274f9361d318ab28ed04c1202c3cb3038b1772c'
        '048f3e6553c7c63934c5061b7bdeb5c103892b9773492b1a4d191c8ccb281cf37341718461b7c1bc833b90a51d54dcdd397dc316a42d029ec0201da107473e51'
        'c4e40416d2269732c8942ec5d2df72ea1ea5f559154b3486b0afe35df198a25af8273fd85366aa7282b92794be4b750c5c1fb8d2c9830c7beb08aa0b76e6d7d2'
        'd65dd43b5d1c3985a227422d834228febbd15a30d862295f23fbfab0dd2c3edb572b88c748a6b2c5e262f9a8bdb3c2ec21f208c82a6c7f7550414b5db4fbe809'
        '80342e4522508aca79cdf73b43e81a58821ca906d598833d0a2fde028e903697f220ad612a54239c56a085e50c2a0314112443540ead8f43038305ddd2e32258'
        '5db9921098101d7e2e364a66df81c667e0891ef48cc8e253573492a24a5c897a6d2f426fa5f7272f0dbb2b61909a45207a039909b1120156924ef527d94933ed'
        '3b393f2e1124746f99b29927c227188fa2273584bbb2ddfd31bcf427fba2e3574a48e8bc8789b7990434c00d9e47941287563c9f430343b98ae0a5fca0ad8e69'
        '4f649bc19951aec8f39731865a8d89c818fa04a0b67d4ecfbd8e026cb3e3a2c8e7ba6802156f6076c164732d76a7fa4b4bde6b7451bf61037392ef0d7e42a8f1'
        'b388ea3c0819ef0d5fd07c68e9cbc4a122245f81de4413b63cb70ada046e22ffe7ef9e53f4552ba6da748110115c8e526cbb6ec6ef746a446a662d01f2818c5f'
        '0aba71157e6ade125fc545eb538e6690ae3da0daddf4099bdd95b5d5a164c77331f53f1a6702ab9a449f24acb0f3536a77b192e8be32b4378577c1a04fcd2a4c'
        '6f6288219315a927509c3aa1c90d991216c64445fcefa0d2de63804d86e667ad13d859ce5fd260b3875bb690365d91f4b942915eccd991a772eeb6e854aac51f'
        '551f29231430ee5b9321e55a5b5457dc9e22412ba71406c7999bf39e615f6299b35383cac354aef08d7b3b328803e713e585e418213fe42e1b5a5e9d859f26f1'
        '7211596355ae4949c13829cd66992377da6aa108beba998474fff7be2c832000866fb31cbdc40382d486b1f516e0dfc18af04fe48c32404186d3cb9dd55f3681'
        'e90f6bacdb816c531adb6266c108587a2b45e03ef56d6159aaa15ecb8afe8271a31dcc2a218002e4657df190778b176541d67884047c156b7e5f11d005711e75'
        '71548faf23da29eab81e36cf5bd6a0d1a9c4f11bf9ae1cbd8146dfcc9dde7cb7319e7276c3b39c4773140bad4bae28000c5dd2f8f175ec241bf4b653024fa2e4'
        '5797eb038afec94575f5cf54ab2ceb5f1e08f74308b20eceb22548790c61d8bac857ee796fab9b1a283d8482026bd641ab5dc359c8df5a9fb334562b729a6d63')



function _package() {
    cd "${srcdir}/"
    local pkgnm="${1}"
    local fontname="${pkgnm#${_type}-}"
    fontname=$(echo $fontname | sed -e 's|iosevka|Iosevka|' -e 's|-aile|Aile|' -e 's|-curly|Curly|' -e 's|-slab|Slab|' -e 's|-etoile|Etoile|' -e 's|-ss|SS|')
    local fontvar="${pkgnm#${pkgbase}-}"
    fontvar="${fontvar^}"
    install -d "${pkgdir}"/usr/share/fonts/TTF
    install -m644 "${fontname}"-*.ttc "${pkgdir}"/usr/share/fonts/TTF/
    install -d "${pkgdir}"/usr/share/licenses
    if [[ "${pkgnm}" != "${pkgbase}" ]]; then
        if [[ "${pkgnm}" == "${pkgbase}-curly-slab" ]]; then
            pkgdesc+=" (Curly Slab variant)"
        else
            pkgdesc+=" (${fontvar} variant)"
        fi
    fi
    install -D -m644 "${pkgbase}-${pkgver}-${pkgrel}-LICENSE.md" "${pkgdir}/usr/share/licenses/${pkgnm}/LICENSE.md"
}

for _pkgname in ${pkgname[@]}; do
    eval "function package_$_pkgname() { _package $_pkgname; }"
done
